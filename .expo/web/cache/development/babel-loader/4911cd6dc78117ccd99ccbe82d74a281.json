{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"I:\\\\Workspace\\\\mediWS\\\\mccWS\\\\frontend-clinic-app\\\\src\\\\pages\\\\changePassword\\\\index.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport { Container, Item, Input, View, Text } from 'native-base';\nimport TitleBar from \"../../components/titleBar\";\nimport { useTranslation } from 'react-i18next';\nimport { useNavigation } from '@react-navigation/native';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport MCCButton from \"../../components/mccButton\";\nimport { useStores } from \"../../stores\";\nimport { changePassword } from \"../../actions/app\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport PhoneCall from \"../../components/phoneCall\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height,\n    width = _Dimensions$get.width;\n\nvar ChangePasswordPage = observer(function () {\n  var stores = useStores();\n\n  var _useTranslation = useTranslation(),\n      i18n = _useTranslation.i18n,\n      t = _useTranslation.t;\n\n  var navigation = useNavigation();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      OldPassword = _useState2[0],\n      setOldPassword = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      NewPassword = _useState4[0],\n      setNewPassword = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      NewPasswordComfirme = _useState6[0],\n      setNewPasswordComfirm = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      error = _useState10[0],\n      setError = _useState10[1];\n\n  var onOldPasswordChange = function onOldPasswordChange(value) {\n    setOldPassword(value);\n  };\n\n  var onNewPasswordChange = function onNewPasswordChange(value) {\n    setNewPassword(value);\n  };\n\n  var onNewPasswordConfirmChange = function onNewPasswordConfirmChange(value) {\n    setNewPasswordComfirm(value);\n  };\n\n  var onChangePassword = function onChangePassword() {\n    var _stores$appStore, clinicId, token, message;\n\n    return _regeneratorRuntime.async(function onChangePassword$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(NewPassword !== NewPasswordComfirme)) {\n              _context.next = 4;\n              break;\n            }\n\n            Alert.alert(t('Others.NewPasswordNotMatch'));\n            _context.next = 9;\n            break;\n\n          case 4:\n            _stores$appStore = stores.appStore, clinicId = _stores$appStore.clinicId, token = _stores$appStore.token;\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(changePassword({\n              stores: stores,\n              clinicId: clinicId,\n              oldPassword: OldPassword,\n              newPassword: NewPassword,\n              token: token,\n              i18n: i18n\n            }));\n\n          case 7:\n            message = _context.sent;\n\n            if (message === true) {\n              Alert.alert(t('Others.PasswordResetSuccess'));\n            } else {\n              Alert.alert(t('Others.WrongOldPassword'));\n            }\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, React.createElement(TitleBar, {\n    title: t('Others.ST11'),\n    onBack: function onBack() {\n      navigation.goBack();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"  \"), React.createElement(View, {\n    style: styleSheet.view,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, React.createElement(Item, {\n    rounded: true,\n    style: styleSheet.textInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, React.createElement(Input, {\n    onChangeText: onOldPasswordChange,\n    placeholder: t('Others.OldPassword'),\n    placeholderTextColor: \"#a4a4a4\",\n    style: styleSheet.input,\n    autoCapitalize: \"none\",\n    secureTextEntry: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  })), React.createElement(Item, {\n    rounded: true,\n    style: styleSheet.textInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, React.createElement(Input, {\n    onChangeText: onNewPasswordChange,\n    placeholder: t('Others.NewPassword'),\n    placeholderTextColor: \"#a4a4a4\",\n    style: styleSheet.input,\n    autoCapitalize: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  })), React.createElement(Item, {\n    rounded: true,\n    style: styleSheet.textInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, React.createElement(Input, {\n    onChangeText: onNewPasswordConfirmChange,\n    placeholder: t('Others.NewPasswordConfirm'),\n    placeholderTextColor: \"#a4a4a4\",\n    style: styleSheet.input,\n    autoCapitalize: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  })), React.createElement(MCCButton, {\n    onPress: onChangePassword,\n    text: t('Others.PasswordReset'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  })), React.createElement(PhoneCall, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }));\n});\nvar styleSheet = StyleSheet.create({\n  container: {\n    backgroundColor: '#fff'\n  },\n  title: {\n    color: '#f95e56',\n    fontSize: 14\n  },\n  input: {\n    fontSize: 16\n  },\n  view: {\n    alignItems: 'center'\n  },\n  textInput: {\n    backgroundColor: '#FFFFFF',\n    width: width * 0.90,\n    shadowRadius: 5,\n    marginBottom: 20,\n    borderColor: '#a4a4a4',\n    color: '#a4a4a4'\n  }\n});\nexport default ChangePasswordPage;","map":{"version":3,"names":["React","useState","observer","Container","Item","Input","View","Text","TitleBar","useTranslation","useNavigation","MCCButton","useStores","changePassword","PhoneCall","Dimensions","get","height","width","ChangePasswordPage","stores","i18n","t","navigation","OldPassword","setOldPassword","NewPassword","setNewPassword","NewPasswordComfirme","setNewPasswordComfirm","loading","setLoading","error","setError","onOldPasswordChange","value","onNewPasswordChange","onNewPasswordConfirmChange","onChangePassword","Alert","alert","appStore","clinicId","token","oldPassword","newPassword","message","goBack","styleSheet","view","textInput","input","StyleSheet","create","container","backgroundColor","title","color","fontSize","alignItems","shadowRadius","marginBottom","borderColor"],"sources":["I:/Workspace/mediWS/mccWS/frontend-clinic-app/src/pages/changePassword/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport Spinner from 'react-native-loading-spinner-overlay';\r\nimport { Container, Item, Input, View, Text } from 'native-base';\r\nimport TitleBar from '../../components/titleBar';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { Alert, StyleSheet } from 'react-native';\r\nimport styles from '../../styles';\r\nimport MCCButton from '../../components/mccButton';\r\nimport { useStores } from '../../stores';\r\nimport { changePassword } from '../../actions/app';\r\nimport { Dimensions } from \"react-native\";\r\nimport PhoneCall from \"../../components/phoneCall\";\r\n\r\nvar { height, width } = Dimensions.get('window');\r\n\r\nconst ChangePasswordPage = observer(() => {\r\n    const stores = useStores();\r\n    const { i18n, t } = useTranslation();\r\n    const navigation = useNavigation();\r\n\r\n    const [OldPassword, setOldPassword] = useState('');\r\n    const [NewPassword, setNewPassword] = useState('');\r\n    const [NewPasswordComfirme, setNewPasswordComfirm] = useState('');\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n\r\n    const onOldPasswordChange = (value: string) => {\r\n        setOldPassword(value)\r\n    }\r\n\r\n    const onNewPasswordChange = (value: string) => {\r\n        setNewPassword(value)\r\n    }\r\n\r\n    const onNewPasswordConfirmChange = (value: string) => {\r\n        setNewPasswordComfirm(value)\r\n    }\r\n\r\n\r\n\r\n    const onChangePassword = async () => {\r\n\r\n        if (NewPassword !== NewPasswordComfirme) {\r\n            Alert.alert(t('Others.NewPasswordNotMatch'));\r\n        } else {\r\n            const { clinicId, token } = stores.appStore;\r\n            const message = await changePassword({ stores, clinicId, oldPassword: OldPassword, newPassword: NewPassword, token, i18n });\r\n            if (message === true) {\r\n                Alert.alert(t('Others.PasswordResetSuccess'));\r\n            } else {\r\n                Alert.alert(t('Others.WrongOldPassword'));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Container>\r\n            <TitleBar\r\n                title={t('Others.ST11')}\r\n                onBack={() => { navigation.goBack(); }}\r\n            />\r\n            <Text>  </Text>\r\n            <View style={styleSheet.view}>\r\n                <Item rounded style={styleSheet.textInput}>\r\n\r\n                    <Input\r\n                        onChangeText={onOldPasswordChange}\r\n                        placeholder={t('Others.OldPassword')}\r\n                        placeholderTextColor='#a4a4a4'\r\n                        style={styleSheet.input}\r\n                        autoCapitalize='none'\r\n                        secureTextEntry={true}\r\n                    />\r\n                </Item>\r\n\r\n                <Item rounded style={styleSheet.textInput}>\r\n                    <Input\r\n                        onChangeText={onNewPasswordChange}\r\n                        placeholder={t('Others.NewPassword')}\r\n                        placeholderTextColor='#a4a4a4'\r\n                        style={styleSheet.input}\r\n                        autoCapitalize='none'\r\n                    />\r\n                </Item>\r\n                <Item rounded style={styleSheet.textInput}>\r\n\r\n                    <Input\r\n                        onChangeText={onNewPasswordConfirmChange}\r\n                        placeholder={t('Others.NewPasswordConfirm')}\r\n                        placeholderTextColor='#a4a4a4'\r\n                        style={styleSheet.input}\r\n                        autoCapitalize='none'\r\n                    />\r\n                </Item>\r\n\r\n                <MCCButton onPress={onChangePassword} text={t('Others.PasswordReset')} />\r\n\r\n            </View>\r\n\r\n            <PhoneCall/>\r\n        </Container>)\r\n});\r\n\r\nconst styleSheet = StyleSheet.create({\r\n    container: {\r\n        backgroundColor: '#fff'\r\n    },\r\n    title: {\r\n        color: '#f95e56',\r\n        fontSize: 14\r\n    },\r\n    input: {\r\n        fontSize: 16\r\n    },\r\n    view: {\r\n        alignItems: 'center'\r\n    },\r\n    textInput: {\r\n        backgroundColor: '#FFFFFF',\r\n        width: width * 0.90,\r\n        shadowRadius: 5,\r\n        marginBottom: 20,\r\n        borderColor: '#a4a4a4',\r\n        color: '#a4a4a4'\r\n\r\n    }\r\n})\r\n\r\nexport default ChangePasswordPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}