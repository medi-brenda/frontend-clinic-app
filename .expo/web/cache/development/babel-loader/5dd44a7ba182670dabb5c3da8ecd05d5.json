{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"I:\\\\Workspace\\\\mediWS\\\\mccWS\\\\frontend-clinic-app\\\\src\\\\routers\\\\main.tsx\";\n\nimport * as React from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport VerifyNavigator from \"./verify\";\nimport ModifyNavigator from \"./modify\";\nimport RecordNavigator from \"./record\";\nimport * as _ from 'lodash';\nimport { useTranslation } from 'react-i18next';\nimport HomeNavigator from \"./home\";\nimport SettingNavigator from \"./setting\";\nvar Tab = createBottomTabNavigator();\n\nvar getSource = function getSource(route, focused) {\n  switch (route) {\n    case 'Home':\n      return focused ? require(\"../assets/images/tab_home_pre.png\") : require(\"../assets/images/tab_home.png\");\n\n    case 'Verify':\n      return focused ? require(\"../assets/images/tab_verfify_pre.png\") : require(\"../assets/images/tab_verfify.png\");\n\n    case 'Modify':\n      return focused ? require(\"../assets/images/Scan(Active).png\") : require(\"../assets/images/Scan(Inactive).png\");\n\n    case 'Record':\n      return focused ? require(\"../assets/images/tab_record_pre.png\") : require(\"../assets/images/tab_record.png\");\n\n    default:\n      return focused ? require(\"../assets/images/tab_more_pre.png\") : require(\"../assets/images/tab_more.png\");\n  }\n};\n\nvar _listeners = function listeners(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route,\n      t = _ref.t;\n  return {\n    tabPress: function tabPress(e) {\n      onTabChange({\n        navigation: navigation,\n        event: e,\n        route: route,\n        t: t\n      });\n    }\n  };\n};\n\nvar onTabChange = function onTabChange(_ref2) {\n  var navigation = _ref2.navigation,\n      event = _ref2.event,\n      route = _ref2.route,\n      t = _ref2.t;\n  event.preventDefault();\n  var state = navigation.dangerouslyGetState();\n\n  var currentTab = _.get(_.last(state.history), 'key');\n\n  var routeName = _.get(route, 'state.routeNames[0]', route.name);\n\n  if (_.startsWith(currentTab, 'Verify') || _.startsWith(currentTab, 'Modify')) {\n    var currentRoute = state.routes.find(function (route) {\n      return route.key === currentTab;\n    });\n\n    if (_.get(currentRoute, 'state.index')) {\n      return Alert.alert(t('Common.Warning'), t('Tab.LossData'), [{\n        text: t('Common.Cancel')\n      }, {\n        text: t('Common.Confirm'),\n        onPress: function onPress() {\n          navigation.reset({\n            index: 0,\n            routes: [{\n              name: route.name\n            }]\n          });\n        }\n      }]);\n    }\n  }\n\n  navigation.reset({\n    index: 0,\n    routes: [{\n      name: route.name\n    }]\n  });\n};\n\nvar MainNavigator = function MainNavigator() {\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  return React.createElement(NavigationContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, React.createElement(Tab.Navigator, {\n    screenOptions: function screenOptions(_ref3) {\n      var route = _ref3.route;\n      return {\n        tabBarIcon: function tabBarIcon(_ref4) {\n          var focused = _ref4.focused;\n          return React.createElement(Image, {\n            style: {\n              resizeMode: 'cover',\n              width: 28,\n              height: 28\n            },\n            source: getSource(route.name, focused),\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 25\n            }\n          });\n        },\n        tabBarOptions: {\n          activeTintColor: 'red'\n        }\n      };\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, React.createElement(Tab.Screen, {\n    name: \"Home\",\n    component: HomeNavigator,\n    listeners: function listeners(_ref5) {\n      var navigation = _ref5.navigation,\n          route = _ref5.route;\n      return _listeners({\n        navigation: navigation,\n        route: route,\n        t: t\n      });\n    },\n    options: {\n      title: t('Tab.Home')\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Verify\",\n    component: VerifyNavigator,\n    listeners: function listeners(_ref6) {\n      var navigation = _ref6.navigation,\n          route = _ref6.route;\n      return _listeners({\n        navigation: navigation,\n        route: route,\n        t: t\n      });\n    },\n    options: {\n      title: t('Tab.Verify')\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Modify\",\n    component: ModifyNavigator,\n    listeners: function listeners(_ref7) {\n      var navigation = _ref7.navigation,\n          route = _ref7.route;\n      return _listeners({\n        navigation: navigation,\n        route: route,\n        t: t\n      });\n    },\n    options: {\n      title: t('Tab.Modify')\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Record\",\n    component: RecordNavigator,\n    listeners: function listeners(_ref8) {\n      var navigation = _ref8.navigation,\n          route = _ref8.route;\n      return _listeners({\n        navigation: navigation,\n        route: route,\n        t: t\n      });\n    },\n    options: {\n      title: t('Tab.Record')\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Settings\",\n    component: SettingNavigator,\n    listeners: function listeners(_ref9) {\n      var navigation = _ref9.navigation,\n          route = _ref9.route;\n      return _listeners({\n        navigation: navigation,\n        route: route,\n        t: t\n      });\n    },\n    options: {\n      title: t('Tab.Setting')\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default MainNavigator;","map":{"version":3,"names":["React","NavigationContainer","createBottomTabNavigator","VerifyNavigator","ModifyNavigator","RecordNavigator","_","useTranslation","HomeNavigator","SettingNavigator","Tab","getSource","route","focused","require","listeners","navigation","t","tabPress","e","onTabChange","event","preventDefault","state","dangerouslyGetState","currentTab","get","last","history","routeName","name","startsWith","currentRoute","routes","find","key","Alert","alert","text","onPress","reset","index","MainNavigator","tabBarIcon","resizeMode","width","height","tabBarOptions","activeTintColor","title"],"sources":["I:/Workspace/mediWS/mccWS/frontend-clinic-app/src/routers/main.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport SettingPage from '../pages/setting';\r\nimport { Alert, Image } from 'react-native';\r\nimport VerifyNavigator from './verify';\r\nimport ModifyNavigator from './modify';\r\nimport RecordNavigator from './record';\r\nimport * as _ from 'lodash';\r\nimport { useTranslation } from 'react-i18next';\r\nimport HomeNavigator from './home';\r\nimport SettingNavigator from './setting';\r\n\r\ntype OnTabChange = {\r\n    navigation: any,\r\n    event: any,\r\n    route: any,\r\n    t: any\r\n}\r\n\r\nconst Tab = createBottomTabNavigator();\r\n\r\nconst getSource = (route: string, focused: boolean) => {\r\n    switch (route) {\r\n        case 'Home':\r\n            return focused ?\r\n                require('../assets/images/tab_home_pre.png') :\r\n                require('../assets/images/tab_home.png');\r\n        case 'Verify':\r\n            return focused ?\r\n                require('../assets/images/tab_verfify_pre.png') :\r\n                require('../assets/images/tab_verfify.png');\r\n        case 'Modify':\r\n            return focused ?\r\n                require('../assets/images/Scan(Active).png') :\r\n                require('../assets/images/Scan(Inactive).png');\r\n        case 'Record':\r\n            return focused ?\r\n                require('../assets/images/tab_record_pre.png') :\r\n                require('../assets/images/tab_record.png');\r\n        default:\r\n            return focused ?\r\n                require('../assets/images/tab_more_pre.png') :\r\n                require('../assets/images/tab_more.png');\r\n    }\r\n}\r\n\r\nconst listeners = ({ navigation, route, t }: any) => ({\r\n    tabPress: (e: any) => {\r\n        onTabChange({\r\n            navigation,\r\n            event: e,\r\n            route,\r\n            t\r\n        })\r\n    },\r\n})\r\n\r\nconst onTabChange = ({ navigation, event, route, t }: OnTabChange) => {\r\n    event.preventDefault();\r\n\r\n    // if user press the same tab, do nothing\r\n    const state = navigation.dangerouslyGetState();\r\n\r\n    // ensure user cannot press back button\r\n    const currentTab = _.get(_.last(state.history), 'key');\r\n\r\n    // ensure go to the first page of the route\r\n    const routeName = _.get(route, 'state.routeNames[0]', route.name);\r\n\r\n    // avoid user leave verify and modify easily\r\n    if (_.startsWith(currentTab, 'Verify') || _.startsWith(currentTab, 'Modify')) {\r\n        // if index is not 0, means that user has input data\r\n        const currentRoute = state.routes.find((route: any) => route.key === currentTab);\r\n        if (_.get(currentRoute, 'state.index')) {\r\n            return Alert.alert(\r\n                t('Common.Warning'),\r\n                t('Tab.LossData'),\r\n                [\r\n                    {\r\n                        text: t('Common.Cancel')\r\n                    },\r\n                    {\r\n                        text: t('Common.Confirm'),\r\n                        onPress: () => {\r\n                            navigation.reset({\r\n                                index: 0,\r\n                                routes: [{ name: route.name }]\r\n                            })\r\n                        }\r\n                    }\r\n                ]\r\n            )\r\n        }\r\n    }\r\n\r\n    // navigation.navigate(routeName);\r\n    navigation.reset({\r\n        index: 0,\r\n        routes: [{ name: route.name }]\r\n    })\r\n}\r\n\r\nconst MainNavigator = () => {\r\n    const { t } = useTranslation();\r\n    return (\r\n        <NavigationContainer>\r\n            <Tab.Navigator\r\n                screenOptions={({ route }) => ({\r\n                    tabBarIcon: ({ focused }) => (\r\n                        <Image\r\n                            style={{ resizeMode: 'cover', width: 28, height: 28 }}\r\n                            source={getSource(route.name, focused)}\r\n                        />\r\n                    ),\r\n                    tabBarOptions: {\r\n                        activeTintColor: 'red',\r\n                    }\r\n                })}\r\n            >\r\n                <Tab.Screen\r\n                    name='Home'\r\n                    component={HomeNavigator}\r\n                    listeners={({ navigation, route }) => listeners({ navigation, route, t })}\r\n                    options={{ title: t('Tab.Home') }}\r\n                />\r\n                <Tab.Screen\r\n                    name=\"Verify\"\r\n                    component={VerifyNavigator}\r\n                    listeners={({ navigation, route }) => listeners({ navigation, route, t })}\r\n                    options={{ title: t('Tab.Verify') }}\r\n                />\r\n                <Tab.Screen\r\n                    name=\"Modify\"\r\n                    component={ModifyNavigator}\r\n                    listeners={({ navigation, route }) => listeners({ navigation, route, t })}\r\n                    options={{ title: t('Tab.Modify') }}\r\n                />\r\n                <Tab.Screen\r\n                    name=\"Record\"\r\n                    component={RecordNavigator}\r\n                    listeners={({ navigation, route }) => listeners({ navigation, route, t })}\r\n                    options={{ title: t('Tab.Record') }}\r\n                />\r\n                <Tab.Screen\r\n                    name='Settings'\r\n                    component={SettingNavigator}\r\n                    listeners={({ navigation, route }) => listeners({ navigation, route, t })}\r\n                    options={{ title: t('Tab.Setting') }}\r\n                />\r\n            </Tab.Navigator>\r\n        </NavigationContainer>\r\n    );\r\n}\r\n\r\nexport default MainNavigator;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}