{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"I:\\\\Workspace\\\\mediWS\\\\mccWS\\\\frontend-clinic-app\\\\src\\\\pages\\\\resourceCenter\\\\index.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useNavigation } from '@react-navigation/native';\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Container, Text, View } from 'native-base';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\nimport { ScrollView, TouchableOpacity } from 'react-native-gesture-handler';\nimport TitleBar from \"../../components/titleBar\";\nimport { useStores } from \"../../stores\";\nimport ErrorPage from \"../error\";\nimport Loading from \"../loading\";\nimport { initResourceCenter } from \"../../actions/app\";\nimport PhoneCall from \"../../components/phoneCall\";\n\nvar ResourceCenterPage = function ResourceCenterPage() {\n  var _useTranslation = useTranslation(),\n      i18n = _useTranslation.i18n,\n      t = _useTranslation.t;\n\n  var stores = useStores();\n  var navigation = useNavigation();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(stores.appStore.newResources),\n      _useState6 = _slicedToArray(_useState5, 2),\n      resources = _useState6[0],\n      setResources = _useState6[1];\n\n  useEffect(function () {\n    init();\n  }, []);\n\n  var init = function init() {\n    var errorMsg, newResources;\n    return _regeneratorRuntime.async(function init$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(initResourceCenter({\n              stores: stores,\n              navigation: navigation,\n              i18n: i18n,\n              platform: Platform.OS\n            }));\n\n          case 3:\n            errorMsg = _context.sent;\n\n            if (errorMsg) {\n              setError(errorMsg);\n            }\n\n            newResources = stores.appStore.newResources;\n            setResources(newResources);\n            setLoading(false);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var goResourceDetailPage = function goResourceDetailPage(object) {\n    navigation.navigate(\"ResourceCenterDetail\", {\n      resourceItemObject: object\n    });\n  };\n\n  return React.createElement(KeyboardAwareScrollView, {\n    contentContainerStyle: {\n      flex: 1,\n      width: \"100%\",\n      flexDirection: 'column'\n    },\n    extraScrollHeight: 0,\n    enableOnAndroid: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, React.createElement(TitleBar, {\n    title: t('ResourceCenter.resourceCenter'),\n    onBack: function onBack() {\n      navigation.goBack();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }), loading ? React.createElement(Loading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 31\n    }\n  }) : error ? React.createElement(ErrorPage, {\n    title: error,\n    onRetry: init,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 33\n    }\n  }) : React.createElement(ScrollView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 33\n    }\n  }, resources.map(function (option, index) {\n    return React.createElement(TouchableOpacity, {\n      key: index,\n      style: styleSheet.resourceItemContainer,\n      onPress: function onPress() {\n        goResourceDetailPage(option);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 45\n      }\n    }, React.createElement(Image, {\n      style: styleSheet.resourceItemImage,\n      source: {\n        uri: option.iconLink\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 49\n      }\n    }), React.createElement(View, {\n      style: styleSheet.resourceItemTitleContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 49\n      }\n    }, React.createElement(Text, {\n      style: styleSheet.resourceItemTitle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 53\n      }\n    }, i18n.language === 'chi' ? option.titleChi : option.titleEn)));\n  })), React.createElement(PhoneCall, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  })));\n};\n\nvar styleSheet = StyleSheet.create({\n  resourceItemContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: '#dcdcdc',\n    marginVertical: 10,\n    marginHorizontal: 10\n  },\n  resourceItemImage: {\n    height: 120,\n    resizeMode: 'contain',\n    marginVertical: 10,\n    flex: 1,\n    marginHorizontal: 10\n  },\n  resourceItemTitleContainer: {\n    flex: 3\n  },\n  resourceItemTitle: {\n    paddingRight: 10\n  }\n});\nexport default ResourceCenterPage;","map":{"version":3,"names":["useNavigation","React","useEffect","useState","useTranslation","Container","Text","View","KeyboardAwareScrollView","ScrollView","TouchableOpacity","TitleBar","useStores","ErrorPage","Loading","initResourceCenter","PhoneCall","ResourceCenterPage","i18n","t","stores","navigation","loading","setLoading","error","setError","appStore","newResources","resources","setResources","init","platform","Platform","OS","errorMsg","goResourceDetailPage","object","navigate","resourceItemObject","flex","width","flexDirection","goBack","map","option","index","styleSheet","resourceItemContainer","resourceItemImage","uri","iconLink","resourceItemTitleContainer","resourceItemTitle","language","titleChi","titleEn","StyleSheet","create","flexWrap","alignItems","borderWidth","borderColor","marginVertical","marginHorizontal","height","resizeMode","paddingRight"],"sources":["I:/Workspace/mediWS/mccWS/frontend-clinic-app/src/pages/resourceCenter/index.tsx"],"sourcesContent":["import { useNavigation } from '@react-navigation/native';\r\nimport { observer } from 'mobx-react';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Container, Text, View } from 'native-base';\r\nimport { StyleSheet, Platform, Image } from 'react-native';\r\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\r\nimport { ScrollView, TouchableOpacity } from 'react-native-gesture-handler';\r\nimport TitleBar from '../../components/titleBar';\r\nimport { useStores } from '../../stores';\r\nimport ErrorPage from '../error';\r\nimport Loading from '../loading';\r\nimport { initResourceCenter } from '../../actions/app';\r\nimport PhoneCall from \"../../components/phoneCall\";\r\n\r\ntype Resources = {\r\n    documentId: string,\r\n    titleEn: string,\r\n    titleChi: string,\r\n    contentEn: string,\r\n    contentChi: string,\r\n    format: string,\r\n    linkEn: string,\r\n    linkChi: string,\r\n    iconLink: string\r\n}\r\n\r\nconst ResourceCenterPage = ()=> {\r\n    const { i18n, t } = useTranslation();\r\n    const stores = useStores();\r\n    const navigation = useNavigation();\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [resources, setResources] = useState(stores.appStore.newResources);\r\n\r\n    useEffect(() => {\r\n        init();\r\n    }, []);\r\n\r\n    const init = async () => {\r\n        setLoading(true);\r\n        const errorMsg = await initResourceCenter({ stores, navigation, i18n, platform: Platform.OS });\r\n        if (errorMsg) {\r\n            setError(errorMsg);\r\n        }\r\n        const newResources = stores.appStore.newResources;\r\n        setResources(newResources);\r\n        setLoading(false);\r\n    }\r\n\r\n    const goResourceDetailPage = (object: Resources)=> {\r\n        navigation.navigate(\"ResourceCenterDetail\", { resourceItemObject: object });\r\n    }\r\n\r\n    return (\r\n        <KeyboardAwareScrollView contentContainerStyle={{flex: 1, width: \"100%\", flexDirection: 'column'}} extraScrollHeight={0} enableOnAndroid={false} > \r\n            <Container>\r\n                <TitleBar\r\n                    title={t('ResourceCenter.resourceCenter')}\r\n                    onBack={() => { navigation.goBack(); }}\r\n                />\r\n                {\r\n                    loading ? <Loading /> :\r\n                        error ? <ErrorPage title={error} onRetry={init} /> :\r\n                            (\r\n                                <ScrollView>\r\n                                    {\r\n                                        resources.map((option, index)=>(\r\n                                            <TouchableOpacity key={index} style={styleSheet.resourceItemContainer} onPress={()=>{goResourceDetailPage(option)}}>\r\n                                                <Image style={styleSheet.resourceItemImage} source={{uri: option.iconLink}}/>\r\n                                                <View  style={styleSheet.resourceItemTitleContainer}>\r\n                                                    <Text style={styleSheet.resourceItemTitle} >{i18n.language === 'chi'?option.titleChi:option.titleEn}</Text>\r\n                                                </View>\r\n                                            </TouchableOpacity>\r\n                                        ))\r\n                                    }\r\n                                </ScrollView>\r\n                            )\r\n                }\r\n\r\n                <PhoneCall/>\r\n            </Container>\r\n        </KeyboardAwareScrollView> \r\n    );\r\n};\r\n\r\nconst styleSheet = StyleSheet.create({\r\n    resourceItemContainer: {\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n        alignItems: 'center',\r\n        borderWidth: 1,\r\n        borderColor: '#dcdcdc',\r\n        marginVertical: 10,\r\n        marginHorizontal: 10,\r\n    },\r\n    resourceItemImage: {\r\n        height: 120,\r\n        resizeMode: 'contain',\r\n        marginVertical: 10,\r\n        flex: 1,\r\n        marginHorizontal: 10\r\n    },\r\n    resourceItemTitleContainer: {\r\n        flex: 3,\r\n    },\r\n    resourceItemTitle: {\r\n        paddingRight: 10\r\n    }\r\n})\r\n\r\nexport default ResourceCenterPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}