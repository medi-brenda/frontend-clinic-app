{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import _regeneratorRuntime from\"@babel/runtime/regenerator\";import*as Font from\"expo-font\";import*as _ from'lodash';import{getBanners,changeLang as changeAppLang,getLocalLang,getBenefits,getReminders as getRemindersApi,getNewsList as getNewsListApi,getNewsDetail,getPromotionList,getAboutUs,checkVersion,registerNofiticationToken,updateNotificationToken,getCooperators as getCooperatorsApi,getNewProducts as getNewProductsApi,getResources as getResourcesApi,getFavoriteDiagnosis as getFavoriteDiagnosisApi,toggleFavoriteDiagnosis as toggleFavoriteDiagnosisApi}from\"../services/app\";import*as ClinicService from\"../services/clinic\";import{getAuthData}from\"../utils/request\";import{validateDiagnosis,validateExtraMed}from\"../utils/validate\";import Config from\"../utils/config\";import AsyncStorage from\"@react-native-async-storage/async-storage\";import Constants from'expo-constants';import*as Updates from'expo-updates';import{findInsurer}from\"../utils/common\";export var changeLang=function changeLang(i18n){changeAppLang(i18n);};export var checkCodePush=function _callee(){var update;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(Constants.manifest.releaseChannel==='prod'||Constants.manifest.releaseChannel==='testing'||Constants.manifest.releaseChannel==='staging')){_context.next=9;break;}_context.next=3;return _regeneratorRuntime.awrap(Updates.checkForUpdateAsync());case 3:update=_context.sent;if(!update.isAvailable){_context.next=9;break;}_context.next=7;return _regeneratorRuntime.awrap(Updates.fetchUpdateAsync().catch(function(error){return error.message;}));case 7:_context.next=9;return _regeneratorRuntime.awrap(Updates.reloadAsync().catch(function(error){return error.message;}));case 9:case\"end\":return _context.stop();}}},null,null,null,Promise);};export var initApp=function _callee2(_ref){var stores,i18n,platform,_stores$appStore,setBanners,setAuthData,setVersion,setInited,setNotificationToken,banners,localLang,_await$getAuthData,clinicId,token,notificationToken;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:stores=_ref.stores,i18n=_ref.i18n,platform=_ref.platform;_context2.prev=1;_context2.next=4;return _regeneratorRuntime.awrap(checkCodePush());case 4:_stores$appStore=stores.appStore,setBanners=_stores$appStore.setBanners,setAuthData=_stores$appStore.setAuthData,setVersion=_stores$appStore.setVersion,setInited=_stores$appStore.setInited,setNotificationToken=_stores$appStore.setNotificationToken;_context2.next=7;return _regeneratorRuntime.awrap(Font.loadAsync({'Roboto':require('native-base/Fonts/Roboto.ttf'),'Roboto_medium':require('native-base/Fonts/Roboto_medium.ttf'),\"space-mono\":require(\"../assets/fonts/SpaceMono-Regular.ttf\"),'\"Times New Roman\"':require(\"../assets/fonts/times-new-roman.ttf\"),\"'Times New Roman'\":require(\"../assets/fonts/times-new-roman.ttf\"),'\"Calibri\",sans-serif':require(\"../assets/fonts/calibri.ttf\"),\"'Calibri',sans-serif\":require(\"../assets/fonts/calibri.ttf\")}));case 7:_context2.next=9;return _regeneratorRuntime.awrap(getBanners());case 9:banners=_context2.sent;setBanners(banners);_context2.next=13;return _regeneratorRuntime.awrap(getLocalLang());case 13:localLang=_context2.sent;i18n.changeLanguage(localLang);_context2.next=17;return _regeneratorRuntime.awrap(getAuthData());case 17:_await$getAuthData=_context2.sent;clinicId=_await$getAuthData.clinicId;token=_await$getAuthData.token;console.log('clinic id: ',clinicId,'token: ',token);if(token&&clinicId){setAuthData(token,clinicId);}_context2.next=24;return _regeneratorRuntime.awrap(registerNofiticationToken());case 24:notificationToken=_context2.sent;setNotificationToken(notificationToken);console.log(notificationToken);setVersion(Constants.manifest.version);setInited();_context2.next=35;break;case 31:_context2.prev=31;_context2.t0=_context2[\"catch\"](1);console.log('error in side initApp',_context2.t0.message);return _context2.abrupt(\"return\",_context2.t0.message);case 35:case\"end\":return _context2.stop();}}},null,null,[[1,31]],Promise);};export var initVerify=function _callee3(_ref2){var stores,navigation,i18n,_stores$appStore2,clinicId,token,setSetting,setCurrentTab,resetData,setInsurers,insurers,setting;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:stores=_ref2.stores,navigation=_ref2.navigation,i18n=_ref2.i18n;_context3.prev=1;_stores$appStore2=stores.appStore,clinicId=_stores$appStore2.clinicId,token=_stores$appStore2.token,setSetting=_stores$appStore2.setSetting,setCurrentTab=_stores$appStore2.setCurrentTab;resetData=stores.dataStore.resetData;setInsurers=stores.configStore.setInsurers;setCurrentTab('Verify');resetData();_context3.next=9;return _regeneratorRuntime.awrap(ClinicService.getInsurers({token:token,i18n:i18n}));case 9:insurers=_context3.sent;setInsurers(insurers);_context3.next=13;return _regeneratorRuntime.awrap(ClinicService.getSettings({clinicId:clinicId,token:token,i18n:i18n}));case 13:setting=_context3.sent;setSetting(setting);console.log('inside initVerify, about to navigation reset to verifyInsurer');navigation.reset({index:0,routes:[{name:'VerifyInsurer'}]});_context3.next=22;break;case 19:_context3.prev=19;_context3.t0=_context3[\"catch\"](1);return _context3.abrupt(\"return\",_context3.t0.message);case 22:case\"end\":return _context3.stop();}}},null,null,[[1,19]],Promise);};export var initModify=function _callee4(_ref3){var stores,navigation,i18n,_stores$appStore3,clinicId,token,setSetting,setCurrentTab,resetData,setInsurers,insurers,setting;return _regeneratorRuntime.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:stores=_ref3.stores,navigation=_ref3.navigation,i18n=_ref3.i18n;_context4.prev=1;_stores$appStore3=stores.appStore,clinicId=_stores$appStore3.clinicId,token=_stores$appStore3.token,setSetting=_stores$appStore3.setSetting,setCurrentTab=_stores$appStore3.setCurrentTab;resetData=stores.dataStore.resetData;setInsurers=stores.configStore.setInsurers;setCurrentTab('Modify');resetData();_context4.next=9;return _regeneratorRuntime.awrap(ClinicService.getInsurers({token:token,i18n:i18n}));case 9:insurers=_context4.sent;setInsurers(insurers);_context4.next=13;return _regeneratorRuntime.awrap(ClinicService.getSettings({clinicId:clinicId,token:token,i18n:i18n}));case 13:setting=_context4.sent;setSetting(setting);navigation.reset({index:0,routes:[{name:'ModifyPendingList'}]});_context4.next=21;break;case 18:_context4.prev=18;_context4.t0=_context4[\"catch\"](1);return _context4.abrupt(\"return\",_context4.t0.message);case 21:case\"end\":return _context4.stop();}}},null,null,[[1,18]],Promise);};export var initRecords=function _callee5(_ref4){var stores,navigation,i18n,_stores$appStore4,clinicId,token,_stores$configStore,setInsurers,setBenefits,insurers,benefits;return _regeneratorRuntime.async(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:stores=_ref4.stores,navigation=_ref4.navigation,i18n=_ref4.i18n;_context5.prev=1;_stores$appStore4=stores.appStore,clinicId=_stores$appStore4.clinicId,token=_stores$appStore4.token;_stores$configStore=stores.configStore,setInsurers=_stores$configStore.setInsurers,setBenefits=_stores$configStore.setBenefits;_context5.next=6;return _regeneratorRuntime.awrap(ClinicService.getInsurers({token:token,i18n:i18n}));case 6:insurers=_context5.sent;setInsurers(insurers);_context5.next=10;return _regeneratorRuntime.awrap(getBenefits({token:token,clinicId:clinicId}));case 10:benefits=_context5.sent;setBenefits(benefits);navigation.reset({index:0,routes:[{name:'RecordList'}]});_context5.next=18;break;case 15:_context5.prev=15;_context5.t0=_context5[\"catch\"](1);return _context5.abrupt(\"return\",_context5.t0.message);case 18:case\"end\":return _context5.stop();}}},null,null,[[1,15]],Promise);};export var initSetting=function _callee6(_ref5){var stores,navigation,i18n,_stores$appStore5,clinicId,token,setSetting,setting;return _regeneratorRuntime.async(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:stores=_ref5.stores,navigation=_ref5.navigation,i18n=_ref5.i18n;_context6.prev=1;_stores$appStore5=stores.appStore,clinicId=_stores$appStore5.clinicId,token=_stores$appStore5.token,setSetting=_stores$appStore5.setSetting;_context6.next=5;return _regeneratorRuntime.awrap(ClinicService.getSettings({clinicId:clinicId,token:token,i18n:i18n}));case 5:setting=_context6.sent;setSetting(setting);_context6.next=12;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](1);return _context6.abrupt(\"return\",_context6.t0.message);case 12:case\"end\":return _context6.stop();}}},null,null,[[1,9]],Promise);};export var goSelectBenefit=function _callee7(_ref6){var stores,insurer,insurerName,navigation,currentTab,_stores$dataStore,values,setValues;return _regeneratorRuntime.async(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:stores=_ref6.stores,insurer=_ref6.insurer,insurerName=_ref6.insurerName,navigation=_ref6.navigation;currentTab=stores.appStore.currentTab;_stores$dataStore=stores.dataStore,values=_stores$dataStore.values,setValues=_stores$dataStore.setValues;values.insurerId=insurer;values.insurerName=insurerName;setValues(values);navigation.navigate(currentTab+\"Benefit\");case 7:case\"end\":return _context7.stop();}}},null,null,null,Promise);};export var goSelectDoctor=function _callee8(_ref7){var stores,benefit,benefitName,navigation,currentTab,_stores$dataStore2,values,setValues;return _regeneratorRuntime.async(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:stores=_ref7.stores,benefit=_ref7.benefit,benefitName=_ref7.benefitName,navigation=_ref7.navigation;currentTab=stores.appStore.currentTab;_stores$dataStore2=stores.dataStore,values=_stores$dataStore2.values,setValues=_stores$dataStore2.setValues;values.benefitCode=benefit;values.benefitName=benefitName;setValues(values);navigation.navigate(currentTab+\"Doctor\");case 7:case\"end\":return _context8.stop();}}},null,null,null,Promise);};export var goSelectMethod=function _callee9(_ref8){var stores,doctorId,navigation,i18n,_stores$appStore6,currentTab,setting,token,_stores$dataStore3,values,setValues,setMethod,setDoctorInsurerIds,insurerIds;return _regeneratorRuntime.async(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:stores=_ref8.stores,doctorId=_ref8.doctorId,navigation=_ref8.navigation,i18n=_ref8.i18n;_context9.prev=1;_stores$appStore6=stores.appStore,currentTab=_stores$appStore6.currentTab,setting=_stores$appStore6.setting,token=_stores$appStore6.token;_stores$dataStore3=stores.dataStore,values=_stores$dataStore3.values,setValues=_stores$dataStore3.setValues,setMethod=_stores$dataStore3.setMethod,setDoctorInsurerIds=_stores$dataStore3.setDoctorInsurerIds;_context9.next=6;return _regeneratorRuntime.awrap(ClinicService.getDoctorInsurers({token:token,doctorId:doctorId,i18n:i18n}));case 6:insurerIds=_context9.sent;setDoctorInsurerIds(insurerIds);values.doctorId=doctorId;setValues(values);if(Config.method.physicalCard&&setting.method.physicalCard){navigation.navigate(currentTab+\"Method\");}else{setMethod('QrCode');navigation.navigate(currentTab+\"QrScan\");}_context9.next=16;break;case 13:_context9.prev=13;_context9.t0=_context9[\"catch\"](1);return _context9.abrupt(\"return\",_context9.t0.message);case 16:case\"end\":return _context9.stop();}}},null,null,[[1,13]],Promise);};export var goQrScanner=function _callee10(_ref9){var stores,navigation,currentTab,setMethod;return _regeneratorRuntime.async(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:stores=_ref9.stores,navigation=_ref9.navigation;currentTab=stores.appStore.currentTab;setMethod=stores.dataStore.setMethod;setMethod('QrCode');navigation.navigate(currentTab+\"QrScan\");case 5:case\"end\":return _context10.stop();}}},null,null,null,Promise);};export var goPhysicalCard=function _callee11(_ref10){var stores,navigation,currentTab,setMethod;return _regeneratorRuntime.async(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:stores=_ref10.stores,navigation=_ref10.navigation;currentTab=stores.appStore.currentTab;setMethod=stores.dataStore.setMethod;setMethod('PhysicalCard');navigation.navigate(currentTab+\"PhysicalCard\");case 5:case\"end\":return _context11.stop();}}},null,null,null,Promise);};export var goSelectExtraMed=function goSelectExtraMed(_ref11){var stores=_ref11.stores,navigation=_ref11.navigation,diagnosis=_ref11.diagnosis;var valid=validateDiagnosis(diagnosis);if(!valid){return'Modify.InvalidNumberOfDiagnosis';}var _stores$dataStore4=stores.dataStore,values=_stores$dataStore4.values,setValues=_stores$dataStore4.setValues;values.diagnosis=diagnosis;setValues(values);navigation.navigate('SelectExtraMed');};export var goDetailPage=function goDetailPage(_ref12){var stores=_ref12.stores,navigation=_ref12.navigation,extraMed=_ref12.extraMed;var valid=validateExtraMed(extraMed);if(!valid){return'Modify.InvalidExtraMedFields';}var setting=stores.appStore.setting;var _stores$dataStore5=stores.dataStore,method=_stores$dataStore5.method,values=_stores$dataStore5.values,setValues=_stores$dataStore5.setValues;setValues(_objectSpread(_objectSpread({},values),{},{extraMed:extraMed}));if(setting.method.physicalCard&&method==='PhysicalCard'){navigation.navigate('PatientDetail');}else{navigation.navigate('ConfirmPay');}};export var goConfirmPayPage=function goConfirmPayPage(_ref13){var stores=_ref13.stores,navigation=_ref13.navigation,signature=_ref13.signature;var _stores$dataStore6=stores.dataStore,values=_stores$dataStore6.values,setValues=_stores$dataStore6.setValues;values.signature=signature;setValues(values);navigation.navigate('ConfirmPay');};export var goTab=function goTab(_ref14){var navigation=_ref14.navigation,tabName=_ref14.tabName;var state=navigation.dangerouslyGetState();var tab=state.routes.find(function(route){return route.name===tabName;});var routeName=_.get(tab,'state.routes[0].name',tabName);navigation.navigate(routeName);};export var goTransactionSuccess=function goTransactionSuccess(_ref15){var stores=_ref15.stores,navigation=_ref15.navigation;var method=stores.dataStore.method;if(method==='PhysicalCard'){return navigation.navigate('TransactionSuccess');}return navigation.navigate('Record');};export var goRecord=function goRecord(_ref16){var stores=_ref16.stores,navigation=_ref16.navigation,record=_ref16.record;var setRecord=stores.dataStore.setRecord;setRecord(record);navigation.navigate('RecordDetail');};export var goNews=function goNews(_ref17){var stores=_ref17.stores,navigation=_ref17.navigation,news=_ref17.news;var setNews=stores.appStore.setNews;setNews(news);navigation.navigate('NewsDetail');};export var goPromotion=function goPromotion(_ref18){var stores=_ref18.stores,navigation=_ref18.navigation,promotion=_ref18.promotion;var setPromotion=stores.appStore.setPromotion;setPromotion(promotion);navigation.navigate('PromotionDetail');};export var getReminders=function _callee12(_ref19){var stores,navigation,i18n,platform,_stores$appStore7,clinicId,token,setReminders,setVersion,setNewsList,_await$checkVersion,version,updateVersion,installVersion,updated,versionReminders,reminders,news;return _regeneratorRuntime.async(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:stores=_ref19.stores,navigation=_ref19.navigation,i18n=_ref19.i18n,platform=_ref19.platform;_context12.prev=1;_stores$appStore7=stores.appStore,clinicId=_stores$appStore7.clinicId,token=_stores$appStore7.token,setReminders=_stores$appStore7.setReminders,setVersion=_stores$appStore7.setVersion,setNewsList=_stores$appStore7.setNewsList;_context12.next=5;return _regeneratorRuntime.awrap(checkVersion({i18n:i18n,platform:platform}));case 5:_await$checkVersion=_context12.sent;version=_await$checkVersion.version;updateVersion=_await$checkVersion.updateVersion;installVersion=_await$checkVersion.installVersion;updated=_await$checkVersion.updated;setVersion(version);versionReminders=[];if(installVersion){versionReminders=[{id:'install',newsId:'',descriptionEn:\"Here is a updated version(v\"+installVersion+\") published to app store, it is advised to install the latest version.\",descriptionChi:\"\\u6700\\u65B0\\u7248\\u672C(v\"+installVersion+\")\\u5DF2\\u4E0A\\u7DDA\\uFF0C\\u5EFA\\u8B70\\u524D\\u5F80\\u4E0B\\u6234\\u6700\\u65B0\\u7248\\u672C\",titleEn:'System Update',titleChi:'系統更新'}];}else if(updateVersion){versionReminders=[{id:'updated',newsId:'',descriptionEn:\"Here is a updated version(v\"+updateVersion+\"), Are you want to updated?\",descriptionChi:\"\\u6700\\u65B0\\u7248\\u672C(v\"+updateVersion+\")\\u5DF2\\u4E0A\\u7DDA\\uFF0C\\u662F\\u5426\\u66F4\\u65B0\",titleEn:'System Update',titleChi:'系統更新'}];}else if(updated.length){versionReminders=[{id:'updatedDetail',newsId:'',descriptionEn:_.map(updated,'descriptionEn').join('\\n'),descriptionChi:_.map(updated,'descriptionChi').join('\\n'),titleEn:'System Update',titleChi:'系統更新'}];}_context12.next=15;return _regeneratorRuntime.awrap(getRemindersApi({clinicId:clinicId,token:token,i18n:i18n}));case 15:reminders=_context12.sent;setReminders(_.concat(versionReminders,reminders));_context12.next=19;return _regeneratorRuntime.awrap(getNewsListApi({i18n:i18n,token:token}));case 19:news=_context12.sent;setNewsList(news);_context12.next=26;break;case 23:_context12.prev=23;_context12.t0=_context12[\"catch\"](1);console.error(_context12.t0);case 26:case\"end\":return _context12.stop();}}},null,null,[[1,23]],Promise);};export var readReminders=function readReminders(_ref20){var stores=_ref20.stores;stores.appStore.setReadReminders(true);};export var initNewsList=function _callee13(_ref21){var stores,navigation,i18n,_stores$appStore8,token,setNewsList,newsList;return _regeneratorRuntime.async(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:stores=_ref21.stores,navigation=_ref21.navigation,i18n=_ref21.i18n;_context13.prev=1;_stores$appStore8=stores.appStore,token=_stores$appStore8.token,setNewsList=_stores$appStore8.setNewsList;_context13.next=5;return _regeneratorRuntime.awrap(getNewsListApi({i18n:i18n,token:token}));case 5:newsList=_context13.sent;setNewsList(newsList);_context13.next=12;break;case 9:_context13.prev=9;_context13.t0=_context13[\"catch\"](1);return _context13.abrupt(\"return\",_context13.t0.message);case 12:case\"end\":return _context13.stop();}}},null,null,[[1,9]],Promise);};export var initNewsDetail=function _callee14(_ref22){var stores,navigation,i18n,_stores$appStore9,token,news,setNews,newNews;return _regeneratorRuntime.async(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:stores=_ref22.stores,navigation=_ref22.navigation,i18n=_ref22.i18n;_context14.prev=1;_stores$appStore9=stores.appStore,token=_stores$appStore9.token,news=_stores$appStore9.news,setNews=_stores$appStore9.setNews;_context14.next=5;return _regeneratorRuntime.awrap(getNewsDetail({i18n:i18n,token:token,newsId:news.id}));case 5:newNews=_context14.sent;setNews(newNews);_context14.next=12;break;case 9:_context14.prev=9;_context14.t0=_context14[\"catch\"](1);return _context14.abrupt(\"return\",_context14.t0.message);case 12:case\"end\":return _context14.stop();}}},null,null,[[1,9]],Promise);};export var initPersonalProfile=function _callee15(_ref23){var stores,navigation,i18n,_stores$appStore10,token,clinicId,setPersonalProfile,profile;return _regeneratorRuntime.async(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:stores=_ref23.stores,navigation=_ref23.navigation,i18n=_ref23.i18n;_context15.prev=1;_stores$appStore10=stores.appStore,token=_stores$appStore10.token,clinicId=_stores$appStore10.clinicId;setPersonalProfile=stores.dataStore.setPersonalProfile;_context15.next=6;return _regeneratorRuntime.awrap(ClinicService.getPersonalProfile({clinicId:clinicId,token:token}));case 6:profile=_context15.sent;setPersonalProfile(profile);_context15.next=13;break;case 10:_context15.prev=10;_context15.t0=_context15[\"catch\"](1);return _context15.abrupt(\"return\",_context15.t0.message);case 13:case\"end\":return _context15.stop();}}},null,null,[[1,10]],Promise);};export var initClinicProfile=function _callee16(_ref24){var stores,navigation,i18n,_stores$appStore11,token,clinicId,setClinic,clinic;return _regeneratorRuntime.async(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:stores=_ref24.stores,navigation=_ref24.navigation,i18n=_ref24.i18n;_context16.prev=1;_stores$appStore11=stores.appStore,token=_stores$appStore11.token,clinicId=_stores$appStore11.clinicId;setClinic=stores.dataStore.setClinic;_context16.next=6;return _regeneratorRuntime.awrap(ClinicService.getClinicProfile({clinicId:clinicId,token:token}));case 6:clinic=_context16.sent;setClinic(clinic);_context16.next=13;break;case 10:_context16.prev=10;_context16.t0=_context16[\"catch\"](1);return _context16.abrupt(\"return\",_context16.t0.message);case 13:case\"end\":return _context16.stop();}}},null,null,[[1,10]],Promise);};export var initAboutUs=function _callee17(_ref25){var stores,navigation,i18n,setAboutUs,aboutUs;return _regeneratorRuntime.async(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:stores=_ref25.stores,navigation=_ref25.navigation,i18n=_ref25.i18n;_context17.prev=1;setAboutUs=stores.appStore.setAboutUs;_context17.next=5;return _regeneratorRuntime.awrap(getAboutUs());case 5:aboutUs=_context17.sent;setAboutUs(aboutUs);_context17.next=12;break;case 9:_context17.prev=9;_context17.t0=_context17[\"catch\"](1);return _context17.abrupt(\"return\",_context17.t0.message);case 12:case\"end\":return _context17.stop();}}},null,null,[[1,9]],Promise);};export var initDoctorProfile=function _callee18(_ref26){var stores,navigation,i18n,_stores$appStore12,token,clinicId,setDoctorProfileList,doctorProfileList;return _regeneratorRuntime.async(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:stores=_ref26.stores,navigation=_ref26.navigation,i18n=_ref26.i18n;_context18.prev=1;_stores$appStore12=stores.appStore,token=_stores$appStore12.token,clinicId=_stores$appStore12.clinicId;setDoctorProfileList=stores.dataStore.setDoctorProfileList;_context18.next=6;return _regeneratorRuntime.awrap(ClinicService.getDoctorList({clinicId:clinicId,token:token}));case 6:doctorProfileList=_context18.sent;setDoctorProfileList(doctorProfileList);_context18.next=13;break;case 10:_context18.prev=10;_context18.t0=_context18[\"catch\"](1);return _context18.abrupt(\"return\",_context18.t0.message);case 13:case\"end\":return _context18.stop();}}},null,null,[[1,10]],Promise);};export var initDoctorProfileDetail=function _callee19(_ref27){var stores,navigation,i18n,_stores$appStore13,token,clinicId,_stores$dataStore7,doctorProfile,setDoctorProfile,newDoctorProfile;return _regeneratorRuntime.async(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:stores=_ref27.stores,navigation=_ref27.navigation,i18n=_ref27.i18n;_context19.prev=1;_stores$appStore13=stores.appStore,token=_stores$appStore13.token,clinicId=_stores$appStore13.clinicId;_stores$dataStore7=stores.dataStore,doctorProfile=_stores$dataStore7.doctorProfile,setDoctorProfile=_stores$dataStore7.setDoctorProfile;_context19.next=6;return _regeneratorRuntime.awrap(ClinicService.getDoctorProfile({clinicId:clinicId,token:token,doctor:doctorProfile}));case 6:newDoctorProfile=_context19.sent;setDoctorProfile(newDoctorProfile);_context19.next=13;break;case 10:_context19.prev=10;_context19.t0=_context19[\"catch\"](1);return _context19.abrupt(\"return\",_context19.t0.message);case 13:case\"end\":return _context19.stop();}}},null,null,[[1,10]],Promise);};export var initPromotionList=function _callee20(_ref28){var stores,navigation,i18n,_stores$appStore14,token,clinicId,setPromotionList,promotionList;return _regeneratorRuntime.async(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:stores=_ref28.stores,navigation=_ref28.navigation,i18n=_ref28.i18n;_context20.prev=1;_stores$appStore14=stores.appStore,token=_stores$appStore14.token,clinicId=_stores$appStore14.clinicId,setPromotionList=_stores$appStore14.setPromotionList;_context20.next=5;return _regeneratorRuntime.awrap(getPromotionList({clinicId:clinicId,token:token}));case 5:promotionList=_context20.sent;setPromotionList(promotionList);_context20.next=12;break;case 9:_context20.prev=9;_context20.t0=_context20[\"catch\"](1);return _context20.abrupt(\"return\",_context20.t0.message);case 12:case\"end\":return _context20.stop();}}},null,null,[[1,9]],Promise);};export var downloadReport=function _callee21(_ref29){var stores,navigation,year,month,_stores$appStore15,token,clinicId;return _regeneratorRuntime.async(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:stores=_ref29.stores,navigation=_ref29.navigation,year=_ref29.year,month=_ref29.month;_context21.prev=1;_stores$appStore15=stores.appStore,token=_stores$appStore15.token,clinicId=_stores$appStore15.clinicId;_context21.next=5;return _regeneratorRuntime.awrap(ClinicService.downloadReport({token:token,clinicId:clinicId,year:year,month:month}));case 5:_context21.next=10;break;case 7:_context21.prev=7;_context21.t0=_context21[\"catch\"](1);return _context21.abrupt(\"return\",_context21.t0.message);case 10:case\"end\":return _context21.stop();}}},null,null,[[1,7]],Promise);};export var goDoctorProfile=function _callee22(_ref30){var stores,navigation,doctorProfile,setDoctorProfile;return _regeneratorRuntime.async(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:stores=_ref30.stores,navigation=_ref30.navigation,doctorProfile=_ref30.doctorProfile;setDoctorProfile=stores.dataStore.setDoctorProfile;setDoctorProfile(doctorProfile);navigation.navigate('DoctorProfile');case 4:case\"end\":return _context22.stop();}}},null,null,null,Promise);};export var saveSettings=function _callee23(_ref31){var stores,navigation,settings,i18n,_stores$appStore16,token,clinicId;return _regeneratorRuntime.async(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:stores=_ref31.stores,navigation=_ref31.navigation,settings=_ref31.settings,i18n=_ref31.i18n;_context23.prev=1;_stores$appStore16=stores.appStore,token=_stores$appStore16.token,clinicId=_stores$appStore16.clinicId;_context23.next=5;return _regeneratorRuntime.awrap(ClinicService.saveSettings({token:token,clinicId:clinicId,settings:settings,i18n:i18n}));case 5:_context23.next=10;break;case 7:_context23.prev=7;_context23.t0=_context23[\"catch\"](1);return _context23.abrupt(\"return\",_context23.t0.message);case 10:case\"end\":return _context23.stop();}}},null,null,[[1,7]],Promise);};export var changePassword=function _callee24(_ref32){var stores,oldPassword,newPassword,token,i18n,_stores$appStore17,_token,clinicId;return _regeneratorRuntime.async(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:stores=_ref32.stores,oldPassword=_ref32.oldPassword,newPassword=_ref32.newPassword,token=_ref32.token,i18n=_ref32.i18n;_context24.prev=1;_stores$appStore17=stores.appStore,_token=_stores$appStore17.token,clinicId=_stores$appStore17.clinicId;_context24.next=5;return _regeneratorRuntime.awrap(ClinicService.changePassword({clinicId:clinicId,oldPassword:oldPassword,newPassword:newPassword,token:_token,i18n:i18n}));case 5:_context24.next=10;break;case 7:_context24.prev=7;_context24.t0=_context24[\"catch\"](1);return _context24.abrupt(\"return\",_context24.t0.message);case 10:case\"end\":return _context24.stop();}}},null,null,[[1,7]],Promise);};export var logout=function _callee25(_ref33){var stores,navigation,i18n,_stores$appStore18,resetData,notificationToken,token,clinicId;return _regeneratorRuntime.async(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:stores=_ref33.stores,navigation=_ref33.navigation,i18n=_ref33.i18n;_stores$appStore18=stores.appStore,resetData=_stores$appStore18.resetData,notificationToken=_stores$appStore18.notificationToken,token=_stores$appStore18.token,clinicId=_stores$appStore18.clinicId;_context25.next=4;return _regeneratorRuntime.awrap(updateNotificationToken({notificationToken:notificationToken,token:token,clinicId:clinicId,i18n:i18n}));case 4:resetData();_context25.next=7;return _regeneratorRuntime.awrap(AsyncStorage.removeItem('token'));case 7:_context25.next=9;return _regeneratorRuntime.awrap(AsyncStorage.removeItem('clinic_id'));case 9:case\"end\":return _context25.stop();}}},null,null,null,Promise);};export var updateApp=function _callee26(_ref34){var i18n,_await$checkVersion2,updateVersion;return _regeneratorRuntime.async(function _callee26$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:i18n=_ref34.i18n;_context26.prev=1;_context26.next=4;return _regeneratorRuntime.awrap(checkVersion({i18n:i18n,platform:'android'}));case 4:_await$checkVersion2=_context26.sent;updateVersion=_await$checkVersion2.updateVersion;if(updateVersion){_context26.next=8;break;}throw new Error('Common.UnknownSystemError');case 8:_context26.next=10;return _regeneratorRuntime.awrap(Updates.fetchUpdateAsync());case 10:_context26.next=15;break;case 12:_context26.prev=12;_context26.t0=_context26[\"catch\"](1);return _context26.abrupt(\"return\",_context26.t0.message);case 15:case\"end\":return _context26.stop();}}},null,null,[[1,12]],Promise);};export var restartApp=function restartApp(){Updates.reloadAsync();};export var initCooperators=function _callee27(_ref35){var stores,navigation,i18n,platform,_stores$appStore19,clinicId,token,setCooperators,setNewProducts,cooperators,newProducts;return _regeneratorRuntime.async(function _callee27$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:stores=_ref35.stores,navigation=_ref35.navigation,i18n=_ref35.i18n,platform=_ref35.platform;_context27.prev=1;_stores$appStore19=stores.appStore,clinicId=_stores$appStore19.clinicId,token=_stores$appStore19.token,setCooperators=_stores$appStore19.setCooperators,setNewProducts=_stores$appStore19.setNewProducts;_context27.next=5;return _regeneratorRuntime.awrap(getCooperatorsApi({clinicId:clinicId,token:token,i18n:i18n}));case 5:cooperators=_context27.sent;_context27.next=8;return _regeneratorRuntime.awrap(getNewProductsApi({clinicId:clinicId,token:token,i18n:i18n}));case 8:newProducts=_context27.sent;setCooperators(cooperators);setNewProducts(newProducts);_context27.next=16;break;case 13:_context27.prev=13;_context27.t0=_context27[\"catch\"](1);return _context27.abrupt(\"return\",_context27.t0.message);case 16:case\"end\":return _context27.stop();}}},null,null,[[1,13]],Promise);};export var initResourceCenter=function _callee28(_ref36){var stores,navigation,i18n,platform,_stores$appStore20,clinicId,token,setNewResources,resources;return _regeneratorRuntime.async(function _callee28$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:stores=_ref36.stores,navigation=_ref36.navigation,i18n=_ref36.i18n,platform=_ref36.platform;_context28.prev=1;_stores$appStore20=stores.appStore,clinicId=_stores$appStore20.clinicId,token=_stores$appStore20.token,setNewResources=_stores$appStore20.setNewResources;_context28.next=5;return _regeneratorRuntime.awrap(getResourcesApi({clinicId:clinicId,token:token,i18n:i18n}));case 5:resources=_context28.sent;setNewResources(resources);_context28.next=12;break;case 9:_context28.prev=9;_context28.t0=_context28[\"catch\"](1);return _context28.abrupt(\"return\",_context28.t0.message);case 12:case\"end\":return _context28.stop();}}},null,null,[[1,9]],Promise);};export var goNextAfterSelectingPendingItem=function goNextAfterSelectingPendingItem(_ref37){var stores=_ref37.stores,navigation=_ref37.navigation,pendingItem=_ref37.pendingItem;var benefitCode=pendingItem.benefitCode,doctor=pendingItem.doctor,insurerId=pendingItem.insurerId,extraMed=pendingItem.extraMed,extraMedLimit=pendingItem.extraMedLimit,copayment=pendingItem.copayment,patientName=pendingItem.patientName,patientId=pendingItem.patientId;var _stores$dataStore8=stores.dataStore,values=_stores$dataStore8.values,setValues=_stores$dataStore8.setValues,setMethod=_stores$dataStore8.setMethod;var insurers=stores.configStore.insurers;var setPendingItem=stores.dataStore.setPendingItem;setValues(_objectSpread(_objectSpread({},values),{},{benefitCode:benefitCode,doctorId:doctor.code,insurerId:insurerId.toString(),extraMed:extraMed,extraMedLimit:extraMedLimit,copayment:copayment,patientName:patientName,member:patientId}));setPendingItem(pendingItem);var isQR=pendingItem.verifyType===1;var insurer=findInsurer(insurers,insurerId);if(isQR&&!insurer.shouldInputPayToken){setMethod('QrCode');navigation.navigate('SelectDiagnosis');return;}if(isQR){setMethod('QrCode');navigation.navigate('ModifyQrScan');return;}else{setMethod('PhysicalCard');navigation.navigate('SelectDiagnosis');return;}};export var initFavoriteDiagnosis=function _callee29(_ref38){var stores,navigation,i18n,platform,_stores$appStore21,clinicId,token,setNewFavoriteDiagnosis,favoriteDiagnosis;return _regeneratorRuntime.async(function _callee29$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:stores=_ref38.stores,navigation=_ref38.navigation,i18n=_ref38.i18n,platform=_ref38.platform;_context29.prev=1;_stores$appStore21=stores.appStore,clinicId=_stores$appStore21.clinicId,token=_stores$appStore21.token,setNewFavoriteDiagnosis=_stores$appStore21.setNewFavoriteDiagnosis;_context29.next=5;return _regeneratorRuntime.awrap(getFavoriteDiagnosisApi({clinicId:clinicId,token:token,i18n:i18n}));case 5:favoriteDiagnosis=_context29.sent;setNewFavoriteDiagnosis(favoriteDiagnosis);_context29.next=12;break;case 9:_context29.prev=9;_context29.t0=_context29[\"catch\"](1);return _context29.abrupt(\"return\",_context29.t0.message);case 12:case\"end\":return _context29.stop();}}},null,null,[[1,9]],Promise);};export var toggleFavoriteDiagnosis=function _callee30(_ref39){var stores,navigation,i18n,platform,diagnosisId,type,_stores$appStore22,clinicId,token,setNewFavoriteDiagnosis,favoriteDiagnosis;return _regeneratorRuntime.async(function _callee30$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:stores=_ref39.stores,navigation=_ref39.navigation,i18n=_ref39.i18n,platform=_ref39.platform,diagnosisId=_ref39.diagnosisId,type=_ref39.type;_context30.prev=1;_stores$appStore22=stores.appStore,clinicId=_stores$appStore22.clinicId,token=_stores$appStore22.token,setNewFavoriteDiagnosis=_stores$appStore22.setNewFavoriteDiagnosis;_context30.next=5;return _regeneratorRuntime.awrap(toggleFavoriteDiagnosisApi({clinicId:clinicId,token:token,i18n:i18n,diagnosisId:diagnosisId,type:type}));case 5:favoriteDiagnosis=_context30.sent;setNewFavoriteDiagnosis(favoriteDiagnosis);return _context30.abrupt(\"return\",favoriteDiagnosis);case 10:_context30.prev=10;_context30.t0=_context30[\"catch\"](1);return _context30.abrupt(\"return\",_context30.t0.message);case 13:case\"end\":return _context30.stop();}}},null,null,[[1,10]],Promise);};","map":{"version":3,"names":["Font","_","getBanners","changeLang","changeAppLang","getLocalLang","getBenefits","getReminders","getRemindersApi","getNewsList","getNewsListApi","getNewsDetail","getPromotionList","getAboutUs","checkVersion","registerNofiticationToken","updateNotificationToken","getCooperators","getCooperatorsApi","getNewProducts","getNewProductsApi","getResources","getResourcesApi","getFavoriteDiagnosis","getFavoriteDiagnosisApi","toggleFavoriteDiagnosis","toggleFavoriteDiagnosisApi","ClinicService","getAuthData","validateDiagnosis","validateExtraMed","Config","AsyncStorage","Constants","Updates","findInsurer","i18n","checkCodePush","manifest","releaseChannel","checkForUpdateAsync","update","isAvailable","fetchUpdateAsync","catch","error","message","reloadAsync","initApp","stores","platform","appStore","setBanners","setAuthData","setVersion","setInited","setNotificationToken","loadAsync","require","banners","localLang","changeLanguage","clinicId","token","console","log","notificationToken","version","initVerify","navigation","setSetting","setCurrentTab","resetData","dataStore","setInsurers","configStore","getInsurers","insurers","getSettings","setting","reset","index","routes","name","initModify","initRecords","setBenefits","benefits","initSetting","goSelectBenefit","insurer","insurerName","currentTab","values","setValues","insurerId","navigate","goSelectDoctor","benefit","benefitName","benefitCode","goSelectMethod","doctorId","setMethod","setDoctorInsurerIds","getDoctorInsurers","insurerIds","method","physicalCard","goQrScanner","goPhysicalCard","goSelectExtraMed","diagnosis","valid","goDetailPage","extraMed","goConfirmPayPage","signature","goTab","tabName","state","dangerouslyGetState","tab","find","route","routeName","get","goTransactionSuccess","goRecord","record","setRecord","goNews","news","setNews","goPromotion","promotion","setPromotion","setReminders","setNewsList","updateVersion","installVersion","updated","versionReminders","id","newsId","descriptionEn","descriptionChi","titleEn","titleChi","length","map","join","reminders","concat","readReminders","setReadReminders","initNewsList","newsList","initNewsDetail","newNews","initPersonalProfile","setPersonalProfile","getPersonalProfile","profile","initClinicProfile","setClinic","getClinicProfile","clinic","initAboutUs","setAboutUs","aboutUs","initDoctorProfile","setDoctorProfileList","getDoctorList","doctorProfileList","initDoctorProfileDetail","doctorProfile","setDoctorProfile","getDoctorProfile","doctor","newDoctorProfile","initPromotionList","setPromotionList","promotionList","downloadReport","year","month","goDoctorProfile","saveSettings","settings","changePassword","oldPassword","newPassword","logout","removeItem","updateApp","Error","restartApp","initCooperators","setCooperators","setNewProducts","cooperators","newProducts","initResourceCenter","setNewResources","resources","goNextAfterSelectingPendingItem","pendingItem","extraMedLimit","copayment","patientName","patientId","setPendingItem","code","toString","member","isQR","verifyType","shouldInputPayToken","initFavoriteDiagnosis","setNewFavoriteDiagnosis","favoriteDiagnosis","diagnosisId","type"],"sources":["I:/Workspace/mediWS/mccWS/frontend-clinic-app/src/actions/app.ts"],"sourcesContent":["import { i18n } from \"i18next\";\r\nimport { Stores } from \"../stores\";\r\nimport * as Font from \"expo-font\";\r\nimport * as _ from 'lodash';\r\nimport {\r\n    getBanners, changeLang as changeAppLang, getLocalLang, getBenefits,\r\n    getReminders as getRemindersApi, getNewsList as getNewsListApi, getNewsDetail, getPromotionList, getAboutUs, getVersion, checkVersion, registerNofiticationToken, updateNotificationToken,\r\n    getCooperators as getCooperatorsApi, getNewProducts as getNewProductsApi, getResources as getResourcesApi, getFavoriteDiagnosis as getFavoriteDiagnosisApi, toggleFavoriteDiagnosis as toggleFavoriteDiagnosisApi\r\n} from \"../services/app\";\r\nimport * as ClinicService from '../services/clinic';\r\nimport { getAuthData } from \"../utils/request\";\r\nimport { validateDiagnosis, validateExtraMed } from \"../utils/validate\";\r\nimport { ExtraMed } from \"../models/extraMed\";\r\nimport { Diagnosis } from \"../models/diagnosis\";\r\nimport { Record } from \"../models/record\";\r\nimport { News } from \"../models/news\";\r\nimport { Promotion } from \"../models/promotion\";\r\nimport { DoctorProfile } from \"../models/doctor\";\r\nimport { Setting } from \"../models/setting\";\r\nimport Config from \"../utils/config\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { Reminder } from \"../models/reminder\";\r\nimport Constants from 'expo-constants';\r\nimport * as Updates from 'expo-updates';\r\nimport {PendingItem} from \"../models/pendingItem\";\r\nimport { findInsurer } from \"../utils/common\";\r\n\r\ntype UpdateApp = {\r\n    i18n: i18n\r\n}\r\n\r\ntype InitApp = {\r\n    stores: Stores,\r\n    i18n: i18n,\r\n    platform: string\r\n}\r\n\r\ntype GoSelectBenefit = {\r\n    insurer: string,\r\n    insurerName: string,\r\n    stores: Stores,\r\n    navigation: any\r\n}\r\n\r\ntype GoSelectDoctor = {\r\n    benefit: string,\r\n    benefitName: string,\r\n    stores: Stores,\r\n    navigation: any\r\n}\r\n\r\ntype GoSelectMethod = {\r\n    doctorId: string,\r\n    stores: Stores,\r\n    navigation: any,\r\n    i18n: i18n\r\n}\r\n\r\ntype GoSelectExtraMed = {\r\n    diagnosis: Diagnosis[],\r\n    stores: Stores,\r\n    navigation: any\r\n}\r\n\r\ntype GoPage = {\r\n    stores: Stores,\r\n    navigation: any\r\n}\r\n\r\ntype GoTab = {\r\n    tabName: string,\r\n    navigation: any\r\n}\r\n\r\ntype GetReminders = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    i18n: i18n,\r\n    platform: string\r\n}\r\n\r\ntype InitPage = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    i18n: i18n\r\n}\r\n\r\ntype ReadReminders = {\r\n    stores: Stores\r\n}\r\n\r\ntype GoDetailPage = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    extraMed: ExtraMed[]\r\n}\r\n\r\ntype GoConfirmPayPage = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    signature: string\r\n}\r\n\r\ntype GoRecord = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    record: Record\r\n}\r\n\r\ntype GoNews = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    news: News\r\n}\r\n\r\ntype GoPromotion = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    promotion: Promotion\r\n}\r\n\r\ntype DownloadReport = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    year: number,\r\n    month: number\r\n}\r\n\r\ntype GoDoctorProfile = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    doctorProfile: DoctorProfile\r\n}\r\n\r\ntype SaveSettings = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    settings: Setting,\r\n    i18n: i18n\r\n}\r\n\r\ntype Logout = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    i18n: i18n\r\n}\r\n\r\ntype InitCooperators = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    i18n: i18n,\r\n    platform: string\r\n}\r\n\r\ntype ChangePassword ={\r\n    stores: Stores,\r\n    token: string,\r\n    clinicId: string,\r\n    oldPassword: string,\r\n    newPassword: string,\r\n    i18n: i18n\r\n\r\n}\r\n\r\n\r\ntype InitResourceCenter = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    i18n: i18n,\r\n    platform: string\r\n}\r\n\r\ntype GoNextAfterSelectingPendingItem={\r\n    stores:Stores,\r\n    navigation:any,\r\n    pendingItem:PendingItem\r\n}\r\n\r\ntype InitFavoriteDiagnosis = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    i18n: i18n,\r\n    platform: string\r\n}\r\n\r\ntype ToggleFavoriteDiagnosis = {\r\n    stores: Stores,\r\n    navigation: any,\r\n    i18n: i18n,\r\n    platform: string,\r\n    diagnosisId: string,\r\n    type: string,\r\n}\r\n\r\nexport const changeLang = (i18n: i18n) => {\r\n    changeAppLang(i18n);\r\n}\r\n\r\nexport const checkCodePush = async () => {\r\n    if(Constants.manifest.releaseChannel === 'prod' || Constants.manifest.releaseChannel === 'testing' || Constants.manifest.releaseChannel === 'staging') {\r\n        // check update\r\n        const update = await Updates.checkForUpdateAsync();\r\n        if (update.isAvailable) {\r\n        await Updates.fetchUpdateAsync().catch((error: Error) => {\r\n            return error.message;\r\n        })\r\n        // ... notify user of update ...\r\n        await Updates.reloadAsync().catch((error: Error) => {\r\n            return error.message;\r\n        })\r\n        }\r\n    }\r\n}\r\n\r\nexport const initApp = async ({ stores, i18n, platform }: InitApp) => {\r\n    try {\r\n        await checkCodePush();\r\n        const { setBanners, setAuthData, setVersion, setInited, setNotificationToken } = stores.appStore;\r\n        // load resources\r\n        await Font\r\n            .loadAsync({\r\n                'Roboto': require('native-base/Fonts/Roboto.ttf'),\r\n                'Roboto_medium': require('native-base/Fonts/Roboto_medium.ttf'),\r\n                \"space-mono\": require(\"../assets/fonts/SpaceMono-Regular.ttf\"),\r\n                '\"Times New Roman\"': require(\"../assets/fonts/times-new-roman.ttf\"),\r\n                \"'Times New Roman'\": require(\"../assets/fonts/times-new-roman.ttf\"),\r\n                '\"Calibri\",sans-serif': require(\"../assets/fonts/calibri.ttf\"),\r\n                \"'Calibri',sans-serif\": require(\"../assets/fonts/calibri.ttf\"),\r\n            });\r\n\r\n        const banners = await getBanners();\r\n        setBanners(banners);\r\n\r\n        const localLang = await getLocalLang();\r\n        i18n.changeLanguage(localLang);\r\n\r\n        \r\n        const { clinicId, token } = await getAuthData();\r\n\r\n        console.log( 'clinic id: ', clinicId, 'token: ', token);\r\n\r\n        if (token && clinicId) {\r\n            setAuthData(token, clinicId);\r\n        }\r\n\r\n        const notificationToken = await registerNofiticationToken();\r\n        setNotificationToken(notificationToken);\r\n        console.log(notificationToken);\r\n\r\n        setVersion(Constants.manifest.version);\r\n\r\n        setInited();\r\n    }\r\n    catch (error) {\r\n\r\n        console.log('error in side initApp', error.message);\r\n        return error.message;\r\n    }\r\n}\r\n\r\nexport const initVerify = async ({ stores, navigation, i18n }: InitPage) => {\r\n    try {\r\n        const { clinicId, token, setSetting, setCurrentTab } = stores.appStore;\r\n        const { resetData } = stores.dataStore;\r\n        const { setInsurers } = stores.configStore;\r\n\r\n        setCurrentTab('Verify');\r\n        resetData();\r\n\r\n        const insurers = await ClinicService.getInsurers({ token, i18n });\r\n        setInsurers(insurers);\r\n\r\n        const setting = await ClinicService.getSettings({ clinicId, token, i18n });\r\n        setSetting(setting);\r\n\r\n        console.log('inside initVerify, about to navigation reset to verifyInsurer');\r\n\r\n        navigation.reset({\r\n            index: 0,\r\n            routes: [{ name: 'VerifyInsurer' }]\r\n        })\r\n        // navigation.navigate('VerifyBenefit');\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const initModify = async ({ stores, navigation, i18n }: InitPage) => {\r\n    try {\r\n        const { clinicId, token, setSetting, setCurrentTab } = stores.appStore;\r\n        const { resetData } = stores.dataStore;\r\n        const { setInsurers } = stores.configStore;\r\n\r\n        setCurrentTab('Modify');\r\n        resetData();\r\n\r\n        const insurers = await ClinicService.getInsurers({ token, i18n });\r\n        setInsurers(insurers);\r\n\r\n        const setting = await ClinicService.getSettings({ clinicId, token, i18n });\r\n        setSetting(setting);\r\n\r\n        navigation.reset({\r\n            index: 0,\r\n            routes: [{ name: 'ModifyPendingList' }]\r\n        });\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const initRecords = async ({ stores, navigation, i18n }: InitPage) => {\r\n    try {\r\n        const { clinicId, token } = stores.appStore;\r\n        const { setInsurers, setBenefits } = stores.configStore;\r\n\r\n        const insurers = await ClinicService.getInsurers({ token, i18n });\r\n        setInsurers(insurers);\r\n\r\n        const benefits = await getBenefits({ token, clinicId });\r\n        setBenefits(benefits);\r\n        navigation.reset({\r\n            index: 0,\r\n            routes: [{ name: 'RecordList' }]\r\n        });\r\n    } catch (error) {\r\n        return error.message;\r\n    }\r\n}\r\n\r\nexport const initSetting = async ({ stores, navigation, i18n }: InitPage) => {\r\n    try {\r\n        const { clinicId, token, setSetting } = stores.appStore;\r\n        const setting = await ClinicService.getSettings({ clinicId, token, i18n });\r\n        setSetting(setting);\r\n    }\r\n    catch (error) {\r\n        return error.message;\r\n    }\r\n}\r\n\r\nexport const goSelectBenefit = async ({ stores, insurer, insurerName, navigation }: GoSelectBenefit) => {\r\n    const { currentTab } = stores.appStore;\r\n    const { values, setValues } = stores.dataStore;\r\n    values.insurerId = insurer;\r\n    values.insurerName = insurerName;\r\n    setValues(values);\r\n    navigation.navigate(`${currentTab}Benefit`);\r\n}\r\n\r\nexport const goSelectDoctor = async ({ stores, benefit, benefitName, navigation }: GoSelectDoctor) => {\r\n    const { currentTab } = stores.appStore;\r\n    const { values, setValues } = stores.dataStore;\r\n    values.benefitCode = benefit;\r\n    values.benefitName = benefitName;\r\n    setValues(values);\r\n    navigation.navigate(`${currentTab}Doctor`);\r\n}\r\n\r\nexport const goSelectMethod = async ({ stores, doctorId, navigation, i18n }: GoSelectMethod) => {\r\n    try {\r\n        // get doctor insurer list first\r\n        const { currentTab, setting, token } = stores.appStore;\r\n        const { values, setValues, setMethod, setDoctorInsurerIds } = stores.dataStore;\r\n\r\n        const insurerIds = await ClinicService.getDoctorInsurers({ token, doctorId, i18n });\r\n        setDoctorInsurerIds(insurerIds);\r\n\r\n        values.doctorId = doctorId;\r\n        setValues(values);\r\n\r\n        if (Config.method.physicalCard && setting.method.physicalCard) {\r\n            navigation.navigate(`${currentTab}Method`);\r\n        }\r\n        else {\r\n            setMethod('QrCode');\r\n            navigation.navigate(`${currentTab}QrScan`);\r\n        }\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const goQrScanner = async ({ stores, navigation }: GoPage) => {\r\n    const { currentTab } = stores.appStore;\r\n    const { setMethod } = stores.dataStore;\r\n    setMethod('QrCode');\r\n    navigation.navigate(`${currentTab}QrScan`);\r\n}\r\n\r\nexport const goPhysicalCard = async ({ stores, navigation }: GoPage) => {\r\n    const { currentTab } = stores.appStore;\r\n    const { setMethod } = stores.dataStore;\r\n    setMethod('PhysicalCard');\r\n    navigation.navigate(`${currentTab}PhysicalCard`);\r\n}\r\n\r\nexport const goSelectExtraMed = ({ stores, navigation, diagnosis }: GoSelectExtraMed) => {\r\n    const valid = validateDiagnosis(diagnosis);\r\n    if (!valid) {\r\n        return 'Modify.InvalidNumberOfDiagnosis';\r\n    }\r\n\r\n    const { values, setValues } = stores.dataStore;\r\n    values.diagnosis = diagnosis;\r\n    setValues(values);\r\n    navigation.navigate('SelectExtraMed');\r\n}\r\n\r\nexport const goDetailPage = ({ stores, navigation, extraMed }: GoDetailPage) => {\r\n    const valid = validateExtraMed(extraMed);\r\n    if (!valid) {\r\n        return 'Modify.InvalidExtraMedFields';\r\n    }\r\n\r\n    const { setting } = stores.appStore;\r\n    const { method, values, setValues } = stores.dataStore;\r\n\r\n    setValues({\r\n        ...values,\r\n        extraMed\r\n    });\r\n\r\n    if (setting.method.physicalCard && method === 'PhysicalCard') {\r\n        navigation.navigate('PatientDetail');\r\n    }\r\n    else {\r\n        navigation.navigate('ConfirmPay');\r\n    }\r\n}\r\n\r\nexport const goConfirmPayPage = ({ stores, navigation, signature }: GoConfirmPayPage) => {\r\n    const { values, setValues } = stores.dataStore;\r\n    values.signature = signature;\r\n    setValues(values);\r\n    navigation.navigate('ConfirmPay');\r\n}\r\n\r\nexport const goTab = ({ navigation, tabName }: GoTab) => {\r\n    const state = navigation.dangerouslyGetState();\r\n    const tab = state.routes.find((route: any) => route.name === tabName);\r\n    const routeName = _.get(tab, 'state.routes[0].name', tabName);\r\n    navigation.navigate(routeName);\r\n}\r\n\r\nexport const goTransactionSuccess = ({ stores, navigation }: GoPage) => {\r\n    const { method } = stores.dataStore;\r\n    if (method === 'PhysicalCard') {\r\n        return navigation.navigate('TransactionSuccess');\r\n    }\r\n\r\n    return navigation.navigate('Record');\r\n}\r\n\r\nexport const goRecord = ({ stores, navigation, record }: GoRecord) => {\r\n    const { setRecord } = stores.dataStore;\r\n    setRecord(record);\r\n    navigation.navigate('RecordDetail');\r\n}\r\n\r\nexport const goNews = ({ stores, navigation, news }: GoNews) => {\r\n    const { setNews } = stores.appStore;\r\n    setNews(news);\r\n    navigation.navigate('NewsDetail');\r\n}\r\n\r\nexport const goPromotion = ({ stores, navigation, promotion }: GoPromotion) => {\r\n    const { setPromotion } = stores.appStore;\r\n    setPromotion(promotion);\r\n    navigation.navigate('PromotionDetail');\r\n}\r\n\r\nexport const getReminders = async ({ stores, navigation, i18n, platform }: GetReminders) => {\r\n    try {\r\n        const { clinicId, token, setReminders, setVersion, setNewsList } = stores.appStore;\r\n\r\n        const { version, updateVersion, installVersion, updated } = await checkVersion({ i18n, platform });\r\n        setVersion(version);\r\n        let versionReminders: Reminder[] = [];\r\n\r\n        if (installVersion) {\r\n            versionReminders = [{\r\n                id: 'install',\r\n                newsId: '',\r\n                descriptionEn: `Here is a updated version(v${installVersion}) published to app store, it is advised to install the latest version.`,\r\n                descriptionChi: `最新版本(v${installVersion})已上線，建議前往下戴最新版本`,\r\n                titleEn: 'System Update',\r\n                titleChi: '系統更新'\r\n            }];\r\n        }\r\n        else if (updateVersion) {\r\n            versionReminders = [{\r\n                id: 'updated',\r\n                newsId: '',\r\n                descriptionEn: `Here is a updated version(v${updateVersion}), Are you want to updated?`,\r\n                descriptionChi: `最新版本(v${updateVersion})已上線，是否更新`,\r\n                titleEn: 'System Update',\r\n                titleChi: '系統更新'\r\n            }];\r\n        }\r\n        else if (updated.length) {\r\n            versionReminders = [{\r\n                id: 'updatedDetail',\r\n                newsId: '',\r\n                descriptionEn: _.map(updated, 'descriptionEn').join('\\n'),\r\n                descriptionChi: _.map(updated, 'descriptionChi').join('\\n'),\r\n                titleEn: 'System Update',\r\n                titleChi: '系統更新'\r\n            }];\r\n        }\r\n\r\n        const reminders = await getRemindersApi({ clinicId, token, i18n });\r\n        setReminders(_.concat(versionReminders, reminders));\r\n\r\n        const news = await getNewsListApi({ i18n, token });\r\n        setNewsList(news);\r\n\r\n    } catch (error) {\r\n        // do nothing\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport const readReminders = ({ stores }: ReadReminders) => {\r\n    stores.appStore.setReadReminders(true);\r\n}\r\n\r\nexport const initNewsList = async ({ stores, navigation, i18n }: InitPage) => {\r\n    try {\r\n        const { token, setNewsList } = stores.appStore;\r\n        const newsList = await getNewsListApi({ i18n, token });\r\n        setNewsList(newsList);\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const initNewsDetail = async ({ stores, navigation, i18n }: InitPage) => {\r\n    try {\r\n        const { token, news, setNews } = stores.appStore;\r\n        const newNews = await getNewsDetail({ i18n, token, newsId: news.id });\r\n        setNews(newNews);\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const initPersonalProfile = async ({ stores, navigation, i18n }: InitPage) => {\r\n    try {\r\n        const { token, clinicId } = stores.appStore;\r\n        const { setPersonalProfile } = stores.dataStore;\r\n        const profile = await ClinicService.getPersonalProfile({ clinicId, token });\r\n        setPersonalProfile(profile);\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const initClinicProfile = async ({ stores, navigation, i18n }: InitPage) => {\r\n    try {\r\n        const { token, clinicId } = stores.appStore;\r\n        const { setClinic } = stores.dataStore;\r\n        const clinic = await ClinicService.getClinicProfile({ clinicId, token });\r\n        setClinic(clinic);\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const initAboutUs = async ({ stores, navigation, i18n }: InitPage) => {\r\n    try {\r\n        const { setAboutUs } = stores.appStore;\r\n        const aboutUs = await getAboutUs();\r\n        setAboutUs(aboutUs);\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const initDoctorProfile = async ({ stores, navigation, i18n }: InitPage) => {\r\n    try {\r\n        const { token, clinicId } = stores.appStore;\r\n        const { setDoctorProfileList } = stores.dataStore;\r\n        const doctorProfileList = await ClinicService.getDoctorList({ clinicId, token });\r\n        setDoctorProfileList(doctorProfileList);\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const initDoctorProfileDetail = async ({ stores, navigation, i18n }: InitPage) => {\r\n    try {\r\n        const { token, clinicId } = stores.appStore;\r\n        const { doctorProfile, setDoctorProfile } = stores.dataStore;\r\n        const newDoctorProfile = await ClinicService.getDoctorProfile({ clinicId, token, doctor: doctorProfile });\r\n        setDoctorProfile(newDoctorProfile);\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const initPromotionList = async ({ stores, navigation, i18n }: InitPage) => {\r\n    try {\r\n        const { token, clinicId, setPromotionList } = stores.appStore;\r\n        const promotionList = await getPromotionList({ clinicId, token });\r\n        setPromotionList(promotionList);\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const downloadReport = async ({ stores, navigation, year, month }: DownloadReport) => {\r\n    try {\r\n        const { token, clinicId } = stores.appStore;\r\n        await ClinicService.downloadReport({ token, clinicId, year, month });\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const goDoctorProfile = async ({ stores, navigation, doctorProfile }: GoDoctorProfile) => {\r\n    const { setDoctorProfile } = stores.dataStore;\r\n    setDoctorProfile(doctorProfile);\r\n    navigation.navigate('DoctorProfile');\r\n}\r\n\r\nexport const saveSettings = async ({ stores, navigation, settings, i18n }: SaveSettings) => {\r\n    try {\r\n        const { token, clinicId } = stores.appStore;\r\n        await ClinicService.saveSettings({ token, clinicId, settings, i18n });\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\nexport const changePassword = async ({ stores, oldPassword, newPassword,token, i18n }: ChangePassword) => {\r\n    try {\r\n        const { token, clinicId } = stores.appStore;\r\n        await ClinicService.changePassword({ clinicId, oldPassword, newPassword, token,i18n });\r\n    } catch (error) {\r\n        return error.message\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const logout = async ({ stores, navigation, i18n }: Logout) => {\r\n    const { resetData, notificationToken, token, clinicId } = stores.appStore;\r\n    await updateNotificationToken({ notificationToken, token, clinicId, i18n });\r\n    resetData();\r\n    await AsyncStorage.removeItem('token');\r\n    await AsyncStorage.removeItem('clinic_id');\r\n}\r\n\r\nexport const updateApp = async ({ i18n }: UpdateApp) => {\r\n    try {\r\n        // check again ensure it can update first\r\n        const { updateVersion } = await checkVersion({ i18n, platform: 'android' });\r\n        if (!updateVersion) {\r\n            throw new Error('Common.UnknownSystemError');\r\n        }\r\n\r\n        await Updates.fetchUpdateAsync();\r\n    } catch (error) {\r\n        return error.message;\r\n    }\r\n}\r\n\r\nexport const restartApp = () => {\r\n    Updates.reloadAsync();\r\n}\r\n\r\nexport const initCooperators = async ({ stores, navigation, i18n, platform }: InitCooperators) => {\r\n    try {\r\n        const { clinicId, token, setCooperators, setNewProducts } = stores.appStore;\r\n        const cooperators = await getCooperatorsApi({ clinicId, token, i18n });\r\n        const newProducts = await getNewProductsApi({ clinicId, token, i18n });\r\n\r\n        setCooperators(cooperators);\r\n        setNewProducts(newProducts);\r\n    } catch (error) {\r\n        return error.message;\r\n    }\r\n}\r\n\r\nexport const initResourceCenter = async ({ stores, navigation, i18n, platform }: InitResourceCenter) => {\r\n    try {\r\n        const { clinicId, token, setNewResources } = stores.appStore;\r\n        const resources = await getResourcesApi({ clinicId, token, i18n });\r\n        setNewResources(resources);\r\n    } catch (error) {\r\n        return error.message;\r\n    }\r\n}\r\n\r\n\r\nexport const goNextAfterSelectingPendingItem=({ stores, navigation,pendingItem}:GoNextAfterSelectingPendingItem)=>{\r\n    const {\r\n        benefitCode,\r\n        doctor,\r\n        insurerId,\r\n        extraMed,\r\n        extraMedLimit,\r\n        copayment,\r\n        patientName,\r\n        patientId\r\n    } = pendingItem;\r\n    \r\n\r\n    const {values,setValues,setMethod}=stores.dataStore;\r\n    const { insurers } = stores.configStore;\r\n    const {setPendingItem} = stores.dataStore;\r\n\r\n\r\n    setValues({\r\n        ...values,\r\n        benefitCode,\r\n        doctorId:doctor.code,\r\n        insurerId:insurerId.toString(), //cater for legacy problem when store 's insurer id is defined as string\r\n        extraMed,\r\n        extraMedLimit,\r\n        copayment,\r\n        patientName,\r\n        member:patientId\r\n    });\r\n\r\n\r\n    setPendingItem(pendingItem);\r\n    const isQR = pendingItem.verifyType === 1;\r\n\r\n    const insurer = findInsurer(insurers, insurerId) !;\r\n\r\n    if (isQR && !insurer.shouldInputPayToken){\r\n        setMethod('QrCode');\r\n        navigation.navigate('SelectDiagnosis');\r\n        return;\r\n    }\r\n    if (isQR) {\r\n        setMethod('QrCode');\r\n        navigation.navigate('ModifyQrScan');\r\n        return;\r\n    } else {\r\n        setMethod('PhysicalCard');\r\n        navigation.navigate('SelectDiagnosis');\r\n        return;\r\n    }\r\n}\r\n\r\nexport const initFavoriteDiagnosis = async ({ stores, navigation, i18n, platform }: InitFavoriteDiagnosis) => {\r\n    try {\r\n        const { clinicId, token, setNewFavoriteDiagnosis} = stores.appStore;\r\n        const favoriteDiagnosis = await getFavoriteDiagnosisApi({ clinicId, token, i18n });\r\n        setNewFavoriteDiagnosis(favoriteDiagnosis);\r\n    } catch (error) {\r\n        return error.message;\r\n    }\r\n}\r\n\r\nexport const toggleFavoriteDiagnosis = async ({ stores, navigation, i18n, platform, diagnosisId, type }: ToggleFavoriteDiagnosis) => {\r\n    try {\r\n        const { clinicId, token, setNewFavoriteDiagnosis} = stores.appStore;\r\n        const favoriteDiagnosis = await toggleFavoriteDiagnosisApi({ clinicId, token, i18n, diagnosisId, type });\r\n        setNewFavoriteDiagnosis(favoriteDiagnosis);\r\n        return favoriteDiagnosis;\r\n    } catch (error) {\r\n        return error.message;\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}