{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"animationIn\",\"animationInTiming\",\"animationOut\",\"animationOutTiming\",\"avoidKeyboard\",\"coverScreen\",\"hasBackdrop\",\"backdropColor\",\"backdropOpacity\",\"backdropTransitionInTiming\",\"backdropTransitionOutTiming\",\"customBackdrop\",\"children\",\"isVisible\",\"onModalShow\",\"onBackButtonPress\",\"useNativeDriver\",\"propagateSwipe\",\"style\"],_excluded2=[\"testID\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import*as React from'react';import Animated from\"react-native-web/dist/exports/Animated\";import DeviceEventEmitter from\"react-native-web/dist/exports/DeviceEventEmitter\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import InteractionManager from\"react-native-web/dist/exports/InteractionManager\";import KeyboardAvoidingView from\"react-native-web/dist/exports/KeyboardAvoidingView\";import Modal from\"react-native-web/dist/exports/Modal\";import PanResponder from\"react-native-web/dist/exports/PanResponder\";import BackHandler from\"react-native-web/dist/exports/BackHandler\";import Platform from\"react-native-web/dist/exports/Platform\";import TouchableWithoutFeedback from\"react-native-web/dist/exports/TouchableWithoutFeedback\";import View from\"react-native-web/dist/exports/View\";import*as PropTypes from'prop-types';import*as animatable from'react-native-animatable';import{initializeAnimations,buildAnimations,reversePercentage}from\"./utils\";import styles from\"./modal.style\";initializeAnimations();var defaultProps={animationIn:'slideInUp',animationInTiming:300,animationOut:'slideOutDown',animationOutTiming:300,avoidKeyboard:false,coverScreen:true,hasBackdrop:true,backdropColor:'black',backdropOpacity:0.7,backdropTransitionInTiming:300,backdropTransitionOutTiming:300,customBackdrop:null,useNativeDriver:false,deviceHeight:null,deviceWidth:null,hideModalContentWhileAnimating:false,propagateSwipe:false,isVisible:false,panResponderThreshold:4,swipeThreshold:100,onModalShow:function onModalShow(){return null;},onModalWillShow:function onModalWillShow(){return null;},onModalHide:function onModalHide(){return null;},onModalWillHide:function onModalWillHide(){return null;},onBackdropPress:function onBackdropPress(){return null;},onBackButtonPress:function onBackButtonPress(){return null;},scrollTo:null,scrollOffset:0,scrollOffsetMax:0,scrollHorizontal:false,statusBarTranslucent:false,supportedOrientations:['portrait','landscape']};var extractAnimationFromProps=function extractAnimationFromProps(props){return{animationIn:props.animationIn,animationOut:props.animationOut};};export var ReactNativeModal=function(_React$Component){_inherits(ReactNativeModal,_React$Component);var _super=_createSuper(ReactNativeModal);function ReactNativeModal(props){var _this;_classCallCheck(this,ReactNativeModal);_this=_super.call(this,props);_this.state={showContent:true,isVisible:false,deviceWidth:Dimensions.get('window').width,deviceHeight:Dimensions.get('window').height,isSwipeable:!!_this.props.swipeDirection,pan:null};_this.isTransitioning=false;_this.inSwipeClosingState=false;_this.currentSwipingDirection=null;_this.panResponder=null;_this.didUpdateDimensionsEmitter=null;_this.interactionHandle=null;_this.getDeviceHeight=function(){return _this.props.deviceHeight||_this.state.deviceHeight;};_this.getDeviceWidth=function(){return _this.props.deviceWidth||_this.state.deviceWidth;};_this.onBackButtonPress=function(){if(_this.props.onBackButtonPress&&_this.props.isVisible){_this.props.onBackButtonPress();return true;}return false;};_this.shouldPropagateSwipe=function(evt,gestureState){return typeof _this.props.propagateSwipe==='function'?_this.props.propagateSwipe(evt,gestureState):_this.props.propagateSwipe;};_this.buildPanResponder=function(){var animEvt=null;_this.panResponder=PanResponder.create({onMoveShouldSetPanResponder:function onMoveShouldSetPanResponder(evt,gestureState){if(!_this.shouldPropagateSwipe(evt,gestureState)){var shouldSetPanResponder=Math.abs(gestureState.dx)>=_this.props.panResponderThreshold||Math.abs(gestureState.dy)>=_this.props.panResponderThreshold;if(shouldSetPanResponder&&_this.props.onSwipeStart){_this.props.onSwipeStart(gestureState);}_this.currentSwipingDirection=_this.getSwipingDirection(gestureState);animEvt=_this.createAnimationEventForSwipe();return shouldSetPanResponder;}return false;},onStartShouldSetPanResponder:function onStartShouldSetPanResponder(e,gestureState){var hasScrollableView=e._dispatchInstances&&e._dispatchInstances.some(function(instance){return /scrollview|flatlist/i.test(instance.type);});if(hasScrollableView&&_this.shouldPropagateSwipe(e,gestureState)&&_this.props.scrollTo&&_this.props.scrollOffset>0){return false;}if(_this.props.onSwipeStart){_this.props.onSwipeStart(gestureState);}_this.currentSwipingDirection=null;return true;},onPanResponderMove:function onPanResponderMove(evt,gestureState){if(!_this.currentSwipingDirection){if(gestureState.dx===0&&gestureState.dy===0){return;}_this.currentSwipingDirection=_this.getSwipingDirection(gestureState);animEvt=_this.createAnimationEventForSwipe();}if(_this.isSwipeDirectionAllowed(gestureState)){var newOpacityFactor=1-_this.calcDistancePercentage(gestureState);_this.backdropRef&&_this.backdropRef.transitionTo({opacity:_this.props.backdropOpacity*newOpacityFactor});animEvt(evt,gestureState);if(_this.props.onSwipeMove){_this.props.onSwipeMove(newOpacityFactor,gestureState);}}else{if(_this.props.scrollTo){if(_this.props.scrollHorizontal){var offsetX=-gestureState.dx;if(offsetX>_this.props.scrollOffsetMax){offsetX-=(offsetX-_this.props.scrollOffsetMax)/2;}_this.props.scrollTo({x:offsetX,animated:false});}else{var offsetY=-gestureState.dy;if(offsetY>_this.props.scrollOffsetMax){offsetY-=(offsetY-_this.props.scrollOffsetMax)/2;}_this.props.scrollTo({y:offsetY,animated:false});}}}},onPanResponderRelease:function onPanResponderRelease(evt,gestureState){var accDistance=_this.getAccDistancePerDirection(gestureState);if(accDistance>_this.props.swipeThreshold&&_this.isSwipeDirectionAllowed(gestureState)){if(_this.props.onSwipeComplete){_this.inSwipeClosingState=true;_this.props.onSwipeComplete({swipingDirection:_this.getSwipingDirection(gestureState)},gestureState);return;}if(_this.props.onSwipe){_this.inSwipeClosingState=true;_this.props.onSwipe();return;}}if(_this.props.onSwipeCancel){_this.props.onSwipeCancel(gestureState);}if(_this.backdropRef){_this.backdropRef.transitionTo({opacity:_this.props.backdropOpacity});}Animated.spring(_this.state.pan,{toValue:{x:0,y:0},bounciness:0,useNativeDriver:false}).start();if(_this.props.scrollTo){if(_this.props.scrollOffset>_this.props.scrollOffsetMax){_this.props.scrollTo({y:_this.props.scrollOffsetMax,animated:true});}}}});};_this.getAccDistancePerDirection=function(gestureState){switch(_this.currentSwipingDirection){case'up':return-gestureState.dy;case'down':return gestureState.dy;case'right':return gestureState.dx;case'left':return-gestureState.dx;default:return 0;}};_this.getSwipingDirection=function(gestureState){if(Math.abs(gestureState.dx)>Math.abs(gestureState.dy)){return gestureState.dx>0?'right':'left';}return gestureState.dy>0?'down':'up';};_this.calcDistancePercentage=function(gestureState){switch(_this.currentSwipingDirection){case'down':return(gestureState.moveY-gestureState.y0)/((_this.props.deviceHeight||_this.state.deviceHeight)-gestureState.y0);case'up':return reversePercentage(gestureState.moveY/gestureState.y0);case'left':return reversePercentage(gestureState.moveX/gestureState.x0);case'right':return(gestureState.moveX-gestureState.x0)/((_this.props.deviceWidth||_this.state.deviceWidth)-gestureState.x0);default:return 0;}};_this.createAnimationEventForSwipe=function(){if(_this.currentSwipingDirection==='right'||_this.currentSwipingDirection==='left'){return Animated.event([null,{dx:_this.state.pan.x}],{useNativeDriver:false});}else{return Animated.event([null,{dy:_this.state.pan.y}],{useNativeDriver:false});}};_this.isDirectionIncluded=function(direction){return Array.isArray(_this.props.swipeDirection)?_this.props.swipeDirection.includes(direction):_this.props.swipeDirection===direction;};_this.isSwipeDirectionAllowed=function(_ref){var dy=_ref.dy,dx=_ref.dx;var draggedDown=dy>0;var draggedUp=dy<0;var draggedLeft=dx<0;var draggedRight=dx>0;if(_this.currentSwipingDirection==='up'&&_this.isDirectionIncluded('up')&&draggedUp){return true;}else if(_this.currentSwipingDirection==='down'&&_this.isDirectionIncluded('down')&&draggedDown){return true;}else if(_this.currentSwipingDirection==='right'&&_this.isDirectionIncluded('right')&&draggedRight){return true;}else if(_this.currentSwipingDirection==='left'&&_this.isDirectionIncluded('left')&&draggedLeft){return true;}return false;};_this.handleDimensionsUpdate=function(){if(!_this.props.deviceHeight&&!_this.props.deviceWidth){var deviceWidth=Dimensions.get('window').width;var deviceHeight=Dimensions.get('window').height;if(deviceWidth!==_this.state.deviceWidth||deviceHeight!==_this.state.deviceHeight){_this.setState({deviceWidth:deviceWidth,deviceHeight:deviceHeight});}}};_this.open=function(){if(_this.isTransitioning){return;}_this.isTransitioning=true;if(_this.backdropRef){_this.backdropRef.transitionTo({opacity:_this.props.backdropOpacity},_this.props.backdropTransitionInTiming);}if(_this.state.isSwipeable){_this.state.pan.setValue({x:0,y:0});}if(_this.contentRef){_this.props.onModalWillShow&&_this.props.onModalWillShow();if(_this.interactionHandle==null){_this.interactionHandle=InteractionManager.createInteractionHandle();}_this.contentRef.animate(_this.animationIn,_this.props.animationInTiming).then(function(){_this.isTransitioning=false;if(_this.interactionHandle){InteractionManager.clearInteractionHandle(_this.interactionHandle);_this.interactionHandle=null;}if(!_this.props.isVisible){_this.close();}else{_this.props.onModalShow();}});}};_this.close=function(){if(_this.isTransitioning){return;}_this.isTransitioning=true;if(_this.backdropRef){_this.backdropRef.transitionTo({opacity:0},_this.props.backdropTransitionOutTiming);}var animationOut=_this.animationOut;if(_this.inSwipeClosingState){_this.inSwipeClosingState=false;if(_this.currentSwipingDirection==='up'){animationOut='slideOutUp';}else if(_this.currentSwipingDirection==='down'){animationOut='slideOutDown';}else if(_this.currentSwipingDirection==='right'){animationOut='slideOutRight';}else if(_this.currentSwipingDirection==='left'){animationOut='slideOutLeft';}}if(_this.contentRef){_this.props.onModalWillHide&&_this.props.onModalWillHide();if(_this.interactionHandle==null){_this.interactionHandle=InteractionManager.createInteractionHandle();}_this.contentRef.animate(animationOut,_this.props.animationOutTiming).then(function(){_this.isTransitioning=false;if(_this.interactionHandle){InteractionManager.clearInteractionHandle(_this.interactionHandle);_this.interactionHandle=null;}if(_this.props.isVisible){_this.open();}else{_this.setState({showContent:false},function(){_this.setState({isVisible:false},function(){_this.props.onModalHide();});});}});}};_this.makeBackdrop=function(){if(!_this.props.hasBackdrop){return null;}if(_this.props.customBackdrop&&!React.isValidElement(_this.props.customBackdrop)){console.warn('Invalid customBackdrop element passed to Modal. You must provide a valid React element.');}var _this$props=_this.props,customBackdrop=_this$props.customBackdrop,backdropColor=_this$props.backdropColor,useNativeDriver=_this$props.useNativeDriver,useNativeDriverForBackdrop=_this$props.useNativeDriverForBackdrop,onBackdropPress=_this$props.onBackdropPress;var hasCustomBackdrop=!!_this.props.customBackdrop;var backdropComputedStyle=[{width:_this.getDeviceWidth(),height:_this.getDeviceHeight(),backgroundColor:_this.state.showContent&&!hasCustomBackdrop?backdropColor:'transparent'}];var backdropWrapper=React.createElement(animatable.View,{ref:function ref(_ref2){return _this.backdropRef=_ref2;},useNativeDriver:useNativeDriverForBackdrop!==undefined?useNativeDriverForBackdrop:useNativeDriver,style:[styles.backdrop,backdropComputedStyle]},hasCustomBackdrop&&customBackdrop);if(hasCustomBackdrop){return backdropWrapper;}return React.createElement(TouchableWithoutFeedback,{onPress:onBackdropPress},backdropWrapper);};var _buildAnimations=buildAnimations(extractAnimationFromProps(props)),animationIn=_buildAnimations.animationIn,animationOut=_buildAnimations.animationOut;_this.animationIn=animationIn;_this.animationOut=animationOut;if(_this.state.isSwipeable){_this.state=_objectSpread(_objectSpread({},_this.state),{},{pan:new Animated.ValueXY()});_this.buildPanResponder();}if(props.isVisible){_this.state=_objectSpread(_objectSpread({},_this.state),{},{isVisible:true,showContent:true});}return _this;}_createClass(ReactNativeModal,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.onSwipe){console.warn('`<Modal onSwipe=\"...\" />` is deprecated and will be removed starting from 13.0.0. Use `<Modal onSwipeComplete=\"...\" />` instead.');}this.didUpdateDimensionsEmitter=DeviceEventEmitter.addListener('didUpdateDimensions',this.handleDimensionsUpdate);if(this.state.isVisible){this.open();}BackHandler.addEventListener('hardwareBackPress',this.onBackButtonPress);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){BackHandler.removeEventListener('hardwareBackPress',this.onBackButtonPress);if(this.didUpdateDimensionsEmitter){this.didUpdateDimensionsEmitter.remove();}if(this.interactionHandle){InteractionManager.clearInteractionHandle(this.interactionHandle);this.interactionHandle=null;}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.animationIn!==prevProps.animationIn||this.props.animationOut!==prevProps.animationOut){var _buildAnimations2=buildAnimations(extractAnimationFromProps(this.props)),animationIn=_buildAnimations2.animationIn,animationOut=_buildAnimations2.animationOut;this.animationIn=animationIn;this.animationOut=animationOut;}if(this.props.backdropOpacity!==prevProps.backdropOpacity&&this.backdropRef){this.backdropRef.transitionTo({opacity:this.props.backdropOpacity},this.props.backdropTransitionInTiming);}if(this.props.isVisible&&!prevProps.isVisible){this.open();}else if(!this.props.isVisible&&prevProps.isVisible){this.close();}}},{key:\"render\",value:function render(){var _this2=this;var _this$props2=this.props,animationIn=_this$props2.animationIn,animationInTiming=_this$props2.animationInTiming,animationOut=_this$props2.animationOut,animationOutTiming=_this$props2.animationOutTiming,avoidKeyboard=_this$props2.avoidKeyboard,coverScreen=_this$props2.coverScreen,hasBackdrop=_this$props2.hasBackdrop,backdropColor=_this$props2.backdropColor,backdropOpacity=_this$props2.backdropOpacity,backdropTransitionInTiming=_this$props2.backdropTransitionInTiming,backdropTransitionOutTiming=_this$props2.backdropTransitionOutTiming,customBackdrop=_this$props2.customBackdrop,children=_this$props2.children,isVisible=_this$props2.isVisible,onModalShow=_this$props2.onModalShow,onBackButtonPress=_this$props2.onBackButtonPress,useNativeDriver=_this$props2.useNativeDriver,propagateSwipe=_this$props2.propagateSwipe,style=_this$props2.style,otherProps=_objectWithoutProperties(_this$props2,_excluded);var testID=otherProps.testID,containerProps=_objectWithoutProperties(otherProps,_excluded2);var computedStyle=[{margin:this.getDeviceWidth()*0.05,transform:[{translateY:0}]},styles.content,style];var panHandlers={};var panPosition={};if(this.state.isSwipeable){panHandlers=_objectSpread({},this.panResponder.panHandlers);if(useNativeDriver){panPosition={transform:this.state.pan.getTranslateTransform()};}else{panPosition=this.state.pan.getLayout();}}var _children=this.props.hideModalContentWhileAnimating&&this.props.useNativeDriver&&!this.state.showContent?React.createElement(animatable.View,null):children;var containerView=React.createElement(animatable.View,_extends({},panHandlers,{ref:function ref(_ref3){return _this2.contentRef=_ref3;},style:[panPosition,computedStyle],pointerEvents:\"box-none\",useNativeDriver:useNativeDriver},containerProps),_children);if(!coverScreen&&this.state.isVisible){return React.createElement(View,{pointerEvents:\"box-none\",style:[styles.backdrop,styles.containerBox]},this.makeBackdrop(),containerView);}return React.createElement(Modal,_extends({transparent:true,animationType:'none',visible:this.state.isVisible,onRequestClose:onBackButtonPress},otherProps),this.makeBackdrop(),avoidKeyboard?React.createElement(KeyboardAvoidingView,{behavior:Platform.OS==='ios'?'padding':undefined,pointerEvents:\"box-none\",style:computedStyle.concat([{margin:0}])},containerView):containerView);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,state){if(!state.isVisible&&nextProps.isVisible){return{isVisible:true,showContent:true};}return null;}}]);return ReactNativeModal;}(React.Component);ReactNativeModal.propTypes={animationIn:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),animationInTiming:PropTypes.number,animationOut:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),animationOutTiming:PropTypes.number,avoidKeyboard:PropTypes.bool,coverScreen:PropTypes.bool,hasBackdrop:PropTypes.bool,backdropColor:PropTypes.string,backdropOpacity:PropTypes.number,backdropTransitionInTiming:PropTypes.number,backdropTransitionOutTiming:PropTypes.number,customBackdrop:PropTypes.node,children:PropTypes.node.isRequired,deviceHeight:PropTypes.number,deviceWidth:PropTypes.number,isVisible:PropTypes.bool.isRequired,hideModalContentWhileAnimating:PropTypes.bool,propagateSwipe:PropTypes.oneOfType([PropTypes.bool,PropTypes.func]),onModalShow:PropTypes.func,onModalWillShow:PropTypes.func,onModalHide:PropTypes.func,onModalWillHide:PropTypes.func,onBackButtonPress:PropTypes.func,onBackdropPress:PropTypes.func,panResponderThreshold:PropTypes.number,onSwipeStart:PropTypes.func,onSwipeMove:PropTypes.func,onSwipeComplete:PropTypes.func,onSwipeCancel:PropTypes.func,swipeThreshold:PropTypes.number,swipeDirection:PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOf(['up','down','left','right'])),PropTypes.oneOf(['up','down','left','right'])]),useNativeDriver:PropTypes.bool,useNativeDriverForBackdrop:PropTypes.bool,style:PropTypes.any,scrollTo:PropTypes.func,scrollOffset:PropTypes.number,scrollOffsetMax:PropTypes.number,scrollHorizontal:PropTypes.bool,supportedOrientations:PropTypes.arrayOf(PropTypes.oneOf(['portrait','portrait-upside-down','landscape','landscape-left','landscape-right']))};ReactNativeModal.defaultProps=defaultProps;export default ReactNativeModal;","map":{"version":3,"names":["React","PropTypes","animatable","initializeAnimations","buildAnimations","reversePercentage","styles","defaultProps","animationIn","animationInTiming","animationOut","animationOutTiming","avoidKeyboard","coverScreen","hasBackdrop","backdropColor","backdropOpacity","backdropTransitionInTiming","backdropTransitionOutTiming","customBackdrop","useNativeDriver","deviceHeight","deviceWidth","hideModalContentWhileAnimating","propagateSwipe","isVisible","panResponderThreshold","swipeThreshold","onModalShow","onModalWillShow","onModalHide","onModalWillHide","onBackdropPress","onBackButtonPress","scrollTo","scrollOffset","scrollOffsetMax","scrollHorizontal","statusBarTranslucent","supportedOrientations","extractAnimationFromProps","props","ReactNativeModal","state","showContent","Dimensions","get","width","height","isSwipeable","swipeDirection","pan","isTransitioning","inSwipeClosingState","currentSwipingDirection","panResponder","didUpdateDimensionsEmitter","interactionHandle","getDeviceHeight","getDeviceWidth","shouldPropagateSwipe","evt","gestureState","buildPanResponder","animEvt","PanResponder","create","onMoveShouldSetPanResponder","shouldSetPanResponder","Math","abs","dx","dy","onSwipeStart","getSwipingDirection","createAnimationEventForSwipe","onStartShouldSetPanResponder","e","hasScrollableView","_dispatchInstances","some","instance","test","type","onPanResponderMove","isSwipeDirectionAllowed","newOpacityFactor","calcDistancePercentage","backdropRef","transitionTo","opacity","onSwipeMove","offsetX","x","animated","offsetY","y","onPanResponderRelease","accDistance","getAccDistancePerDirection","onSwipeComplete","swipingDirection","onSwipe","onSwipeCancel","Animated","spring","toValue","bounciness","start","moveY","y0","moveX","x0","event","isDirectionIncluded","direction","Array","isArray","includes","draggedDown","draggedUp","draggedLeft","draggedRight","handleDimensionsUpdate","setState","open","setValue","contentRef","InteractionManager","createInteractionHandle","animate","then","clearInteractionHandle","close","makeBackdrop","isValidElement","console","warn","useNativeDriverForBackdrop","hasCustomBackdrop","backdropComputedStyle","backgroundColor","backdropWrapper","createElement","View","ref","undefined","style","backdrop","TouchableWithoutFeedback","onPress","ValueXY","DeviceEventEmitter","addListener","BackHandler","addEventListener","removeEventListener","remove","prevProps","children","otherProps","testID","containerProps","computedStyle","margin","transform","translateY","content","panHandlers","panPosition","getTranslateTransform","getLayout","_children","containerView","pointerEvents","containerBox","Modal","transparent","animationType","visible","onRequestClose","KeyboardAvoidingView","behavior","Platform","OS","concat","nextProps","Component","propTypes","oneOfType","string","object","number","bool","node","isRequired","func","arrayOf","oneOf","any"],"sources":["I:/Workspace/mediWS/mccWS/frontend-clinic-app/node_modules/react-native-modal/dist/modal.js"],"sourcesContent":["import * as React from 'react';\nimport { Animated, DeviceEventEmitter, Dimensions, InteractionManager, KeyboardAvoidingView, Modal, PanResponder, BackHandler, Platform, TouchableWithoutFeedback, View, } from 'react-native';\nimport * as PropTypes from 'prop-types';\nimport * as animatable from 'react-native-animatable';\nimport { initializeAnimations, buildAnimations, reversePercentage, } from './utils';\nimport styles from './modal.style';\n// Override default react-native-animatable animations\ninitializeAnimations();\nconst defaultProps = {\n    animationIn: 'slideInUp',\n    animationInTiming: 300,\n    animationOut: 'slideOutDown',\n    animationOutTiming: 300,\n    avoidKeyboard: false,\n    coverScreen: true,\n    hasBackdrop: true,\n    backdropColor: 'black',\n    backdropOpacity: 0.7,\n    backdropTransitionInTiming: 300,\n    backdropTransitionOutTiming: 300,\n    customBackdrop: null,\n    useNativeDriver: false,\n    deviceHeight: null,\n    deviceWidth: null,\n    hideModalContentWhileAnimating: false,\n    propagateSwipe: false,\n    isVisible: false,\n    panResponderThreshold: 4,\n    swipeThreshold: 100,\n    onModalShow: (() => null),\n    onModalWillShow: (() => null),\n    onModalHide: (() => null),\n    onModalWillHide: (() => null),\n    onBackdropPress: (() => null),\n    onBackButtonPress: (() => null),\n    scrollTo: null,\n    scrollOffset: 0,\n    scrollOffsetMax: 0,\n    scrollHorizontal: false,\n    statusBarTranslucent: false,\n    supportedOrientations: ['portrait', 'landscape'],\n};\nconst extractAnimationFromProps = (props) => ({\n    animationIn: props.animationIn,\n    animationOut: props.animationOut,\n});\nexport class ReactNativeModal extends React.Component {\n    constructor(props) {\n        super(props);\n        // We use an internal state for keeping track of the modal visibility: this allows us to keep\n        // the modal visible during the exit animation, even if the user has already change the\n        // isVisible prop to false.\n        // We store in the state the device width and height so that we can update the modal on\n        // device rotation.\n        this.state = {\n            showContent: true,\n            isVisible: false,\n            deviceWidth: Dimensions.get('window').width,\n            deviceHeight: Dimensions.get('window').height,\n            isSwipeable: !!this.props.swipeDirection,\n            pan: null,\n        };\n        this.isTransitioning = false;\n        this.inSwipeClosingState = false;\n        this.currentSwipingDirection = null;\n        this.panResponder = null;\n        this.didUpdateDimensionsEmitter = null;\n        this.interactionHandle = null;\n        this.getDeviceHeight = () => this.props.deviceHeight || this.state.deviceHeight;\n        this.getDeviceWidth = () => this.props.deviceWidth || this.state.deviceWidth;\n        this.onBackButtonPress = () => {\n            if (this.props.onBackButtonPress && this.props.isVisible) {\n                this.props.onBackButtonPress();\n                return true;\n            }\n            return false;\n        };\n        this.shouldPropagateSwipe = (evt, gestureState) => {\n            return typeof this.props.propagateSwipe === 'function'\n                ? this.props.propagateSwipe(evt, gestureState)\n                : this.props.propagateSwipe;\n        };\n        this.buildPanResponder = () => {\n            let animEvt = null;\n            this.panResponder = PanResponder.create({\n                onMoveShouldSetPanResponder: (evt, gestureState) => {\n                    // Use propagateSwipe to allow inner content to scroll. See PR:\n                    // https://github.com/react-native-community/react-native-modal/pull/246\n                    if (!this.shouldPropagateSwipe(evt, gestureState)) {\n                        // The number \"4\" is just a good tradeoff to make the panResponder\n                        // work correctly even when the modal has touchable buttons.\n                        // However, if you want to overwrite this and choose for yourself,\n                        // set panResponderThreshold in the props.\n                        // For reference:\n                        // https://github.com/react-native-community/react-native-modal/pull/197\n                        const shouldSetPanResponder = Math.abs(gestureState.dx) >= this.props.panResponderThreshold ||\n                            Math.abs(gestureState.dy) >= this.props.panResponderThreshold;\n                        if (shouldSetPanResponder && this.props.onSwipeStart) {\n                            this.props.onSwipeStart(gestureState);\n                        }\n                        this.currentSwipingDirection = this.getSwipingDirection(gestureState);\n                        animEvt = this.createAnimationEventForSwipe();\n                        return shouldSetPanResponder;\n                    }\n                    return false;\n                },\n                onStartShouldSetPanResponder: (e, gestureState) => {\n                    const hasScrollableView = e._dispatchInstances &&\n                        e._dispatchInstances.some((instance) => /scrollview|flatlist/i.test(instance.type));\n                    if (hasScrollableView &&\n                        this.shouldPropagateSwipe(e, gestureState) &&\n                        this.props.scrollTo &&\n                        this.props.scrollOffset > 0) {\n                        return false; // user needs to be able to scroll content back up\n                    }\n                    if (this.props.onSwipeStart) {\n                        this.props.onSwipeStart(gestureState);\n                    }\n                    // Cleared so that onPanResponderMove can wait to have some delta\n                    // to work with\n                    this.currentSwipingDirection = null;\n                    return true;\n                },\n                onPanResponderMove: (evt, gestureState) => {\n                    // Using onStartShouldSetPanResponder we don't have any delta so we don't know\n                    // The direction to which the user is swiping until some move have been done\n                    if (!this.currentSwipingDirection) {\n                        if (gestureState.dx === 0 && gestureState.dy === 0) {\n                            return;\n                        }\n                        this.currentSwipingDirection = this.getSwipingDirection(gestureState);\n                        animEvt = this.createAnimationEventForSwipe();\n                    }\n                    if (this.isSwipeDirectionAllowed(gestureState)) {\n                        // Dim the background while swiping the modal\n                        const newOpacityFactor = 1 - this.calcDistancePercentage(gestureState);\n                        this.backdropRef &&\n                            this.backdropRef.transitionTo({\n                                opacity: this.props.backdropOpacity * newOpacityFactor,\n                            });\n                        animEvt(evt, gestureState);\n                        if (this.props.onSwipeMove) {\n                            this.props.onSwipeMove(newOpacityFactor, gestureState);\n                        }\n                    }\n                    else {\n                        if (this.props.scrollTo) {\n                            if (this.props.scrollHorizontal) {\n                                let offsetX = -gestureState.dx;\n                                if (offsetX > this.props.scrollOffsetMax) {\n                                    offsetX -= (offsetX - this.props.scrollOffsetMax) / 2;\n                                }\n                                this.props.scrollTo({ x: offsetX, animated: false });\n                            }\n                            else {\n                                let offsetY = -gestureState.dy;\n                                if (offsetY > this.props.scrollOffsetMax) {\n                                    offsetY -= (offsetY - this.props.scrollOffsetMax) / 2;\n                                }\n                                this.props.scrollTo({ y: offsetY, animated: false });\n                            }\n                        }\n                    }\n                },\n                onPanResponderRelease: (evt, gestureState) => {\n                    // Call the onSwipe prop if the threshold has been exceeded on the right direction\n                    const accDistance = this.getAccDistancePerDirection(gestureState);\n                    if (accDistance > this.props.swipeThreshold &&\n                        this.isSwipeDirectionAllowed(gestureState)) {\n                        if (this.props.onSwipeComplete) {\n                            this.inSwipeClosingState = true;\n                            this.props.onSwipeComplete({\n                                swipingDirection: this.getSwipingDirection(gestureState),\n                            }, gestureState);\n                            return;\n                        }\n                        // Deprecated. Remove later.\n                        if (this.props.onSwipe) {\n                            this.inSwipeClosingState = true;\n                            this.props.onSwipe();\n                            return;\n                        }\n                    }\n                    //Reset backdrop opacity and modal position\n                    if (this.props.onSwipeCancel) {\n                        this.props.onSwipeCancel(gestureState);\n                    }\n                    if (this.backdropRef) {\n                        this.backdropRef.transitionTo({\n                            opacity: this.props.backdropOpacity,\n                        });\n                    }\n                    Animated.spring(this.state.pan, {\n                        toValue: { x: 0, y: 0 },\n                        bounciness: 0,\n                        useNativeDriver: false,\n                    }).start();\n                    if (this.props.scrollTo) {\n                        if (this.props.scrollOffset > this.props.scrollOffsetMax) {\n                            this.props.scrollTo({\n                                y: this.props.scrollOffsetMax,\n                                animated: true,\n                            });\n                        }\n                    }\n                },\n            });\n        };\n        this.getAccDistancePerDirection = (gestureState) => {\n            switch (this.currentSwipingDirection) {\n                case 'up':\n                    return -gestureState.dy;\n                case 'down':\n                    return gestureState.dy;\n                case 'right':\n                    return gestureState.dx;\n                case 'left':\n                    return -gestureState.dx;\n                default:\n                    return 0;\n            }\n        };\n        this.getSwipingDirection = (gestureState) => {\n            if (Math.abs(gestureState.dx) > Math.abs(gestureState.dy)) {\n                return gestureState.dx > 0 ? 'right' : 'left';\n            }\n            return gestureState.dy > 0 ? 'down' : 'up';\n        };\n        this.calcDistancePercentage = (gestureState) => {\n            switch (this.currentSwipingDirection) {\n                case 'down':\n                    return ((gestureState.moveY - gestureState.y0) /\n                        ((this.props.deviceHeight || this.state.deviceHeight) -\n                            gestureState.y0));\n                case 'up':\n                    return reversePercentage(gestureState.moveY / gestureState.y0);\n                case 'left':\n                    return reversePercentage(gestureState.moveX / gestureState.x0);\n                case 'right':\n                    return ((gestureState.moveX - gestureState.x0) /\n                        ((this.props.deviceWidth || this.state.deviceWidth) - gestureState.x0));\n                default:\n                    return 0;\n            }\n        };\n        this.createAnimationEventForSwipe = () => {\n            if (this.currentSwipingDirection === 'right' ||\n                this.currentSwipingDirection === 'left') {\n                return Animated.event([null, { dx: this.state.pan.x }], {\n                    useNativeDriver: false,\n                });\n            }\n            else {\n                return Animated.event([null, { dy: this.state.pan.y }], {\n                    useNativeDriver: false,\n                });\n            }\n        };\n        this.isDirectionIncluded = (direction) => {\n            return Array.isArray(this.props.swipeDirection)\n                ? this.props.swipeDirection.includes(direction)\n                : this.props.swipeDirection === direction;\n        };\n        this.isSwipeDirectionAllowed = ({ dy, dx }) => {\n            const draggedDown = dy > 0;\n            const draggedUp = dy < 0;\n            const draggedLeft = dx < 0;\n            const draggedRight = dx > 0;\n            if (this.currentSwipingDirection === 'up' &&\n                this.isDirectionIncluded('up') &&\n                draggedUp) {\n                return true;\n            }\n            else if (this.currentSwipingDirection === 'down' &&\n                this.isDirectionIncluded('down') &&\n                draggedDown) {\n                return true;\n            }\n            else if (this.currentSwipingDirection === 'right' &&\n                this.isDirectionIncluded('right') &&\n                draggedRight) {\n                return true;\n            }\n            else if (this.currentSwipingDirection === 'left' &&\n                this.isDirectionIncluded('left') &&\n                draggedLeft) {\n                return true;\n            }\n            return false;\n        };\n        this.handleDimensionsUpdate = () => {\n            if (!this.props.deviceHeight && !this.props.deviceWidth) {\n                // Here we update the device dimensions in the state if the layout changed\n                // (triggering a render)\n                const deviceWidth = Dimensions.get('window').width;\n                const deviceHeight = Dimensions.get('window').height;\n                if (deviceWidth !== this.state.deviceWidth ||\n                    deviceHeight !== this.state.deviceHeight) {\n                    this.setState({ deviceWidth, deviceHeight });\n                }\n            }\n        };\n        this.open = () => {\n            if (this.isTransitioning) {\n                return;\n            }\n            this.isTransitioning = true;\n            if (this.backdropRef) {\n                this.backdropRef.transitionTo({ opacity: this.props.backdropOpacity }, this.props.backdropTransitionInTiming);\n            }\n            // This is for resetting the pan position,otherwise the modal gets stuck\n            // at the last released position when you try to open it.\n            // TODO: Could certainly be improved - no idea for the moment.\n            if (this.state.isSwipeable) {\n                this.state.pan.setValue({ x: 0, y: 0 });\n            }\n            if (this.contentRef) {\n                this.props.onModalWillShow && this.props.onModalWillShow();\n                if (this.interactionHandle == null) {\n                    this.interactionHandle = InteractionManager.createInteractionHandle();\n                }\n                this.contentRef\n                    .animate(this.animationIn, this.props.animationInTiming)\n                    .then(() => {\n                    this.isTransitioning = false;\n                    if (this.interactionHandle) {\n                        InteractionManager.clearInteractionHandle(this.interactionHandle);\n                        this.interactionHandle = null;\n                    }\n                    if (!this.props.isVisible) {\n                        this.close();\n                    }\n                    else {\n                        this.props.onModalShow();\n                    }\n                });\n            }\n        };\n        this.close = () => {\n            if (this.isTransitioning) {\n                return;\n            }\n            this.isTransitioning = true;\n            if (this.backdropRef) {\n                this.backdropRef.transitionTo({ opacity: 0 }, this.props.backdropTransitionOutTiming);\n            }\n            let animationOut = this.animationOut;\n            if (this.inSwipeClosingState) {\n                this.inSwipeClosingState = false;\n                if (this.currentSwipingDirection === 'up') {\n                    animationOut = 'slideOutUp';\n                }\n                else if (this.currentSwipingDirection === 'down') {\n                    animationOut = 'slideOutDown';\n                }\n                else if (this.currentSwipingDirection === 'right') {\n                    animationOut = 'slideOutRight';\n                }\n                else if (this.currentSwipingDirection === 'left') {\n                    animationOut = 'slideOutLeft';\n                }\n            }\n            if (this.contentRef) {\n                this.props.onModalWillHide && this.props.onModalWillHide();\n                if (this.interactionHandle == null) {\n                    this.interactionHandle = InteractionManager.createInteractionHandle();\n                }\n                this.contentRef\n                    .animate(animationOut, this.props.animationOutTiming)\n                    .then(() => {\n                    this.isTransitioning = false;\n                    if (this.interactionHandle) {\n                        InteractionManager.clearInteractionHandle(this.interactionHandle);\n                        this.interactionHandle = null;\n                    }\n                    if (this.props.isVisible) {\n                        this.open();\n                    }\n                    else {\n                        this.setState({\n                            showContent: false,\n                        }, () => {\n                            this.setState({\n                                isVisible: false,\n                            }, () => {\n                                this.props.onModalHide();\n                            });\n                        });\n                    }\n                });\n            }\n        };\n        this.makeBackdrop = () => {\n            if (!this.props.hasBackdrop) {\n                return null;\n            }\n            if (this.props.customBackdrop &&\n                !React.isValidElement(this.props.customBackdrop)) {\n                console.warn('Invalid customBackdrop element passed to Modal. You must provide a valid React element.');\n            }\n            const { customBackdrop, backdropColor, useNativeDriver, useNativeDriverForBackdrop, onBackdropPress, } = this.props;\n            const hasCustomBackdrop = !!this.props.customBackdrop;\n            const backdropComputedStyle = [\n                {\n                    width: this.getDeviceWidth(),\n                    height: this.getDeviceHeight(),\n                    backgroundColor: this.state.showContent && !hasCustomBackdrop\n                        ? backdropColor\n                        : 'transparent',\n                },\n            ];\n            const backdropWrapper = (React.createElement(animatable.View, { ref: ref => (this.backdropRef = ref), useNativeDriver: useNativeDriverForBackdrop !== undefined\n                    ? useNativeDriverForBackdrop\n                    : useNativeDriver, style: [styles.backdrop, backdropComputedStyle] }, hasCustomBackdrop && customBackdrop));\n            if (hasCustomBackdrop) {\n                // The user will handle backdrop presses himself\n                return backdropWrapper;\n            }\n            // If there's no custom backdrop, handle presses with\n            // TouchableWithoutFeedback\n            return (React.createElement(TouchableWithoutFeedback, { onPress: onBackdropPress }, backdropWrapper));\n        };\n        const { animationIn, animationOut } = buildAnimations(extractAnimationFromProps(props));\n        this.animationIn = animationIn;\n        this.animationOut = animationOut;\n        if (this.state.isSwipeable) {\n            this.state = {\n                ...this.state,\n                pan: new Animated.ValueXY(),\n            };\n            this.buildPanResponder();\n        }\n        if (props.isVisible) {\n            this.state = {\n                ...this.state,\n                isVisible: true,\n                showContent: true,\n            };\n        }\n    }\n    static getDerivedStateFromProps(nextProps, state) {\n        if (!state.isVisible && nextProps.isVisible) {\n            return { isVisible: true, showContent: true };\n        }\n        return null;\n    }\n    componentDidMount() {\n        // Show deprecation message\n        if (this.props.onSwipe) {\n            console.warn('`<Modal onSwipe=\"...\" />` is deprecated and will be removed starting from 13.0.0. Use `<Modal onSwipeComplete=\"...\" />` instead.');\n        }\n        this.didUpdateDimensionsEmitter = DeviceEventEmitter.addListener('didUpdateDimensions', this.handleDimensionsUpdate);\n        if (this.state.isVisible) {\n            this.open();\n        }\n        BackHandler.addEventListener('hardwareBackPress', this.onBackButtonPress);\n    }\n    componentWillUnmount() {\n        BackHandler.removeEventListener('hardwareBackPress', this.onBackButtonPress);\n        if (this.didUpdateDimensionsEmitter) {\n            this.didUpdateDimensionsEmitter.remove();\n        }\n        if (this.interactionHandle) {\n            InteractionManager.clearInteractionHandle(this.interactionHandle);\n            this.interactionHandle = null;\n        }\n    }\n    componentDidUpdate(prevProps) {\n        // If the animations have been changed then rebuild them to make sure we're\n        // using the most up-to-date ones\n        if (this.props.animationIn !== prevProps.animationIn ||\n            this.props.animationOut !== prevProps.animationOut) {\n            const { animationIn, animationOut } = buildAnimations(extractAnimationFromProps(this.props));\n            this.animationIn = animationIn;\n            this.animationOut = animationOut;\n        }\n        // If backdrop opacity has been changed then make sure to update it\n        if (this.props.backdropOpacity !== prevProps.backdropOpacity &&\n            this.backdropRef) {\n            this.backdropRef.transitionTo({ opacity: this.props.backdropOpacity }, this.props.backdropTransitionInTiming);\n        }\n        // On modal open request, we slide the view up and fade in the backdrop\n        if (this.props.isVisible && !prevProps.isVisible) {\n            this.open();\n        }\n        else if (!this.props.isVisible && prevProps.isVisible) {\n            // On modal close request, we slide the view down and fade out the backdrop\n            this.close();\n        }\n    }\n    render() {\n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        const { animationIn, animationInTiming, animationOut, animationOutTiming, avoidKeyboard, coverScreen, hasBackdrop, backdropColor, backdropOpacity, backdropTransitionInTiming, backdropTransitionOutTiming, customBackdrop, children, isVisible, onModalShow, onBackButtonPress, useNativeDriver, propagateSwipe, style, ...otherProps } = this.props;\n        const { testID, ...containerProps } = otherProps;\n        const computedStyle = [\n            { margin: this.getDeviceWidth() * 0.05, transform: [{ translateY: 0 }] },\n            styles.content,\n            style,\n        ];\n        let panHandlers = {};\n        let panPosition = {};\n        if (this.state.isSwipeable) {\n            panHandlers = { ...this.panResponder.panHandlers };\n            if (useNativeDriver) {\n                panPosition = {\n                    transform: this.state.pan.getTranslateTransform(),\n                };\n            }\n            else {\n                panPosition = this.state.pan.getLayout();\n            }\n        }\n        // The user might decide not to show the modal while it is animating\n        // to enhance performance.\n        const _children = this.props.hideModalContentWhileAnimating &&\n            this.props.useNativeDriver &&\n            !this.state.showContent ? (React.createElement(animatable.View, null)) : (children);\n        const containerView = (React.createElement(animatable.View, Object.assign({}, panHandlers, { ref: ref => (this.contentRef = ref), style: [panPosition, computedStyle], pointerEvents: \"box-none\", useNativeDriver: useNativeDriver }, containerProps), _children));\n        // If coverScreen is set to false by the user\n        // we render the modal inside the parent view directly\n        if (!coverScreen && this.state.isVisible) {\n            return (React.createElement(View, { pointerEvents: \"box-none\", style: [styles.backdrop, styles.containerBox] },\n                this.makeBackdrop(),\n                containerView));\n        }\n        return (React.createElement(Modal, Object.assign({ transparent: true, animationType: 'none', visible: this.state.isVisible, onRequestClose: onBackButtonPress }, otherProps),\n            this.makeBackdrop(),\n            avoidKeyboard ? (React.createElement(KeyboardAvoidingView, { behavior: Platform.OS === 'ios' ? 'padding' : undefined, pointerEvents: \"box-none\", style: computedStyle.concat([{ margin: 0 }]) }, containerView)) : (containerView)));\n    }\n}\nReactNativeModal.propTypes = {\n    animationIn: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    animationInTiming: PropTypes.number,\n    animationOut: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    animationOutTiming: PropTypes.number,\n    avoidKeyboard: PropTypes.bool,\n    coverScreen: PropTypes.bool,\n    hasBackdrop: PropTypes.bool,\n    backdropColor: PropTypes.string,\n    backdropOpacity: PropTypes.number,\n    backdropTransitionInTiming: PropTypes.number,\n    backdropTransitionOutTiming: PropTypes.number,\n    customBackdrop: PropTypes.node,\n    children: PropTypes.node.isRequired,\n    deviceHeight: PropTypes.number,\n    deviceWidth: PropTypes.number,\n    isVisible: PropTypes.bool.isRequired,\n    hideModalContentWhileAnimating: PropTypes.bool,\n    propagateSwipe: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    onModalShow: PropTypes.func,\n    onModalWillShow: PropTypes.func,\n    onModalHide: PropTypes.func,\n    onModalWillHide: PropTypes.func,\n    onBackButtonPress: PropTypes.func,\n    onBackdropPress: PropTypes.func,\n    panResponderThreshold: PropTypes.number,\n    onSwipeStart: PropTypes.func,\n    onSwipeMove: PropTypes.func,\n    onSwipeComplete: PropTypes.func,\n    onSwipeCancel: PropTypes.func,\n    swipeThreshold: PropTypes.number,\n    swipeDirection: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.oneOf(['up', 'down', 'left', 'right'])),\n        PropTypes.oneOf(['up', 'down', 'left', 'right']),\n    ]),\n    useNativeDriver: PropTypes.bool,\n    useNativeDriverForBackdrop: PropTypes.bool,\n    style: PropTypes.any,\n    scrollTo: PropTypes.func,\n    scrollOffset: PropTypes.number,\n    scrollOffsetMax: PropTypes.number,\n    scrollHorizontal: PropTypes.bool,\n    supportedOrientations: PropTypes.arrayOf(PropTypes.oneOf([\n        'portrait',\n        'portrait-upside-down',\n        'landscape',\n        'landscape-left',\n        'landscape-right',\n    ])),\n};\nReactNativeModal.defaultProps = defaultProps;\nexport default ReactNativeModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}