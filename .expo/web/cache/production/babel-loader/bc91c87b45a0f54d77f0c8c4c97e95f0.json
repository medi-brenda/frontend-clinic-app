{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import{useNavigation}from'@react-navigation/native';import{observer}from'mobx-react';import{Body,Card,CardItem,Container,Text,View}from'native-base';import React,{useEffect,useRef,useState}from'react';import{useTranslation}from'react-i18next';import Alert from\"react-native-web/dist/exports/Alert\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Image from\"react-native-web/dist/exports/Image\";import Platform from\"react-native-web/dist/exports/Platform\";import{FlatList}from'react-native-gesture-handler';import ListRow from\"../../components/listRow\";import SearchInput from\"../../components/searchInput\";import{getDiagnosis}from\"../../actions/config\";import TitleBar from\"../../components/titleBar\";import{useStores}from\"../../stores\";import ErrorPage from\"../error\";import Loading from\"../loading\";import{translate}from\"../../utils/string\";import MCCButton from\"../../components/mccButton\";import{goSelectExtraMed}from\"../../actions/app\";import*as _ from'lodash';import PhoneCall from\"../../components/phoneCall\";import{initFavoriteDiagnosis,toggleFavoriteDiagnosis}from\"../../actions/app\";import Spinner from'react-native-loading-spinner-overlay';import Modal from\"./modal\";import{findInsurer}from\"../../utils/common\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SelectDiagnosisPage=observer(function(){var stores=useStores();var _useTranslation=useTranslation(),i18n=_useTranslation.i18n,t=_useTranslation.t;var navigation=useNavigation();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),selected=_useState6[0],setSelected=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),favoriteDiagnosis=_useState8[0],setFavoriteDiagnosis=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),refreshed=_useState10[0],setRefreshed=_useState10[1];var _stores$configStore=stores.configStore,diagnosis=_stores$configStore.diagnosis,insurers=_stores$configStore.insurers;var pendingItem=stores.dataStore.pendingItem;var _useState11=useState(stores.configStore.diagnosis),_useState12=_slicedToArray(_useState11,2),currentDiagnosis=_useState12[0],setCurrentDiagnosis=_useState12[1];var isIcd10=function isIcd10(){var insurer=findInsurer(insurers,pendingItem.insurerId);return _.get(insurer,'icd',9)===10;};var usePrevious=function usePrevious(value){var ref=useRef();useEffect(function(){ref.current=value;});return ref.current;};var prevAmount=usePrevious(diagnosis);var prevFavoriteDiagnosis=usePrevious(favoriteDiagnosis);var newFavoriteDiagnosis=stores.appStore.newFavoriteDiagnosis;var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isToggleFavoriteLoading=_useState14[0],setIsToggleFavoriteLoading=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),modalVisible=_useState16[0],setModalVisible=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),modalText=_useState18[0],setModalText=_useState18[1];useEffect(function(){onSearch();},[]);useEffect(function(){if(diagnosis&&prevAmount!==diagnosis||newFavoriteDiagnosis&&prevFavoriteDiagnosis!==newFavoriteDiagnosis){init();}},[diagnosis,newFavoriteDiagnosis]);var init=function _callee(){var errorMsgFavoriteDiagnosis,intArray,temp,result;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return _regeneratorRuntime.awrap(initFavoriteDiagnosis({stores:stores,navigation:navigation,i18n:i18n,platform:Platform.OS}));case 3:errorMsgFavoriteDiagnosis=_context.sent;if(errorMsgFavoriteDiagnosis){setError(errorMsgFavoriteDiagnosis);}intArray=[];temp=[];result=[];if(newFavoriteDiagnosis!==null){if(!newFavoriteDiagnosis.includes(',')){intArray.push(parseInt(newFavoriteDiagnosis));}else{intArray=newFavoriteDiagnosis.split(',').map(function(item){return parseInt(item,10);});}temp=_.cloneDeep(diagnosis);temp.forEach(function(element){if(intArray.includes(element.id)){element['isFavorite']=true;}else{element['isFavorite']=false;}});result=sortFavorite(temp);}else{temp=_.cloneDeep(diagnosis);temp.forEach(function(element){element['isFavorite']=false;});result=temp;}setFavoriteDiagnosis(intArray);setCurrentDiagnosis(result);setLoading(false);case 12:case\"end\":return _context.stop();}}},null,null,null,Promise);};var onSearch=function _callee2(value){var errMsg;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!loading){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:setLoading(true);_context2.next=5;return _regeneratorRuntime.awrap(getDiagnosis({stores:stores,search:value||'',i18n:i18n}));case 5:errMsg=_context2.sent;if(errMsg){setError(errMsg);}return _context2.abrupt(\"return\",setLoading(false));case 8:case\"end\":return _context2.stop();}}},null,null,null,Promise);};var onSubmitSearch=function onSubmitSearch(value){onSearch(value);};var onRemoveSelectedDiagnosis=function onRemoveSelectedDiagnosis(item){setSelected(selected.filter(function(d){return d!==item;}));};var onAddSelectedDiagnosis=function onAddSelectedDiagnosis(item){if(selected.length>1){return Alert.alert(t('Common.Error'),t('Modify.WarnAtMostTwoDiagnosis'));}selected.push(item);setSelected(selected);setRefreshed(!refreshed);};var onNextStep=function onNextStep(){var errorMsg=goSelectExtraMed({stores:stores,navigation:navigation,diagnosis:selected});if(errorMsg){Alert.alert(t('Common.Error'),t(errorMsg));}};var toggleFavoriteItems=function _callee3(item){var temp,index,resp,tempCurrentDiagnosis,tempResult,tempSelectedCurrentDiagnosis,tempSelectedResult,result,_resp,_tempCurrentDiagnosis,_tempResult,_tempSelectedCurrentDiagnosis,_tempSelectedResult,_result;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:temp=_.cloneDeep(favoriteDiagnosis);if(!favoriteDiagnosis.includes(item.id)){_context3.next=22;break;}index=temp.indexOf(item.id);temp.splice(index,1);setIsToggleFavoriteLoading(true);_context3.next=7;return _regeneratorRuntime.awrap(toggleFavoriteDiagnosis({stores:stores,navigation:navigation,i18n:i18n,platform:Platform.OS,diagnosisId:item.id.toString(),type:'0'}).catch(function(error){Alert.alert(t('Common.Error'),t(error));}));case 7:resp=_context3.sent;setIsToggleFavoriteLoading(false);tempCurrentDiagnosis=_.cloneDeep(currentDiagnosis);tempResult=[];tempCurrentDiagnosis.forEach(function(e){if(e.id===item.id){e.isFavorite=false;tempResult.push(e);}else{tempResult.push(e);}});tempSelectedCurrentDiagnosis=_.cloneDeep(selected);tempSelectedResult=[];tempSelectedCurrentDiagnosis.forEach(function(e){if(e.id===item.id){e.isFavorite=false;tempSelectedResult.push(e);}else{tempSelectedResult.push(e);}});result=sortFavorite(tempResult);setCurrentDiagnosis(result);setSelected(tempSelectedResult);setModalVisible(true);setModalText(t('Diagnosis.removeFavoriteSuccess'));_context3.next=39;break;case 22:temp.push(item.id);setIsToggleFavoriteLoading(true);_context3.next=26;return _regeneratorRuntime.awrap(toggleFavoriteDiagnosis({stores:stores,navigation:navigation,i18n:i18n,platform:Platform.OS,diagnosisId:item.id.toString(),type:'1'}).catch(function(error){Alert.alert(t('Common.Error'),t(error));}));case 26:_resp=_context3.sent;setIsToggleFavoriteLoading(false);_tempCurrentDiagnosis=_.cloneDeep(currentDiagnosis);_tempResult=[];_tempCurrentDiagnosis.forEach(function(e){if(e.id===item.id){e.isFavorite=true;_tempResult.push(e);}else{_tempResult.push(e);}});_tempSelectedCurrentDiagnosis=_.cloneDeep(selected);_tempSelectedResult=[];_tempSelectedCurrentDiagnosis.forEach(function(e){if(e.id===item.id){e.isFavorite=true;_tempSelectedResult.push(e);}else{_tempSelectedResult.push(e);}});_result=sortFavorite(_tempResult);setCurrentDiagnosis(_result);setSelected(_tempSelectedResult);setModalVisible(true);setModalText(t('Diagnosis.addFavoriteSuccess'));case 39:setFavoriteDiagnosis(temp);case 40:case\"end\":return _context3.stop();}}},null,null,null,Promise);};var sortFavorite=function sortFavorite(diagnosisList){return diagnosisList.sort(function(a,b){if(a.isFavorite&&!b.isFavorite){return-1;}else if(!a.isFavorite&&b.isFavorite){return 1;}return 0;});};return _jsxs(Container,{children:[_jsx(TitleBar,{title:t(\"Diagnosis.Step1Title\"),onBack:function onBack(){navigation.goBack();},children:_jsx(SearchInput,{disabled:loading,placeholder:t('Modify.ST30'),onSubmit:onSubmitSearch})}),error?_jsx(ErrorPage,{title:error,onRetry:onSearch}):loading?_jsx(Loading,{}):_jsxs(_Fragment,{children:[_jsx(Spinner,{visible:isToggleFavoriteLoading,textContent:t('Common.Loading')}),isIcd10()&&_jsx(View,{style:styleSheet.favouriteReminderWrapper,children:_jsx(Card,{children:_jsx(CardItem,{style:styleSheet.favouriteReminderCallout,children:_jsx(Body,{children:_jsx(Text,{children:t('Diagnosis.favouriteReminder')})})})})}),_jsx(Modal,{show:modalVisible,title:modalText,onDismiss:function onDismiss(){setModalVisible(false);}}),_jsxs(View,{style:styleSheet.selectedHeader,children:[_jsxs(View,{style:styleSheet.selectedHeaderImage,children:[_jsx(Image,{style:styleSheet.favoriteIcon,source:require(\"../..//assets/images/star-activated.png\")}),_jsx(Text,{children:t('Diagnosis.favorite')})]}),selected.length?_jsx(View,{style:styleSheet.selectedHeaderTextContainer,children:_jsx(Text,{style:styleSheet.selectedHeaderText,children:t('Modify.ST2')})}):_jsx(View,{style:styleSheet.selectedHeaderTextContainer}),_jsx(View,{style:styleSheet.selectedHeaderChooseDiagnosis,children:_jsx(Text,{children:t('Diagnosis.selectDiagnosis')})})]}),selected.length?_jsx(View,{children:_jsx(FlatList,{style:styleSheet.selected,scrollEnabled:false,data:selected,keyExtractor:function keyExtractor(item,index){return\"selected-dialognosis-\"+item.code;},renderItem:function renderItem(_ref){var item=_ref.item;return _jsx(ListRow,{item:item,onPress:onRemoveSelectedDiagnosis,formatText:function formatText(item){return item.code+\" - \"+translate(item,i18n);},leftIcon:item.isFavorite?'activated':'unactivated',rightIcon:\"md-checkmark\",rightStyle:{color:'#fc8651'},addFavorite:function addFavorite(){return toggleFavoriteItems(item);}});}})}):null,_jsx(FlatList,{data:currentDiagnosis.filter(function(d){return!selected.find(function(s){return s.code===d.code;});}),keyExtractor:function keyExtractor(item,index){return\"diagnosis-\"+index;},renderItem:function renderItem(_ref2){var item=_ref2.item;return _jsx(ListRow,{item:item,onPress:onAddSelectedDiagnosis,formatText:function formatText(item){return item.code+\" - \"+translate(item,i18n);},rightIcon:\"add\",leftIcon:item.isFavorite?'activated':'unactivated',addFavorite:function addFavorite(){return toggleFavoriteItems(item);}});}}),_jsx(View,{style:styleSheet.action,children:_jsx(MCCButton,{onPress:onNextStep,text:t('Modify.ST3')})})]}),_jsx(PhoneCall,{style:styleSheet.hotline})]});});var styleSheet=StyleSheet.create({action:{paddingVertical:5},selected:{borderColor:'#ff8566',borderTopWidth:3,borderBottomWidth:3},selectedHeader:{flexDirection:'row',alignItems:'center',paddingVertical:10,paddingHorizontal:10,borderColor:\"rgba(0,0,0,0.25)\",borderBottomWidth:1},hotline:{bottom:80},favoriteIcon:{width:30,height:30},selectedHeaderImage:{flex:6,flexDirection:'row',alignItems:'center'},selectedHeaderTextContainer:{marginTop:5,flex:6},selectedHeaderChooseDiagnosis:{flex:4,marginLeft:5},selectedHeaderText:{width:'60%'},favouriteReminderWrapper:{paddingHorizontal:5,paddingVertical:5},favouriteReminderCallout:{borderLeftColor:\"#e91e63\",borderLeftWidth:10}});export default SelectDiagnosisPage;","map":{"version":3,"names":["useNavigation","observer","Body","Card","CardItem","Container","Text","View","React","useEffect","useRef","useState","useTranslation","FlatList","ListRow","SearchInput","getDiagnosis","TitleBar","useStores","ErrorPage","Loading","translate","MCCButton","goSelectExtraMed","_","PhoneCall","initFavoriteDiagnosis","toggleFavoriteDiagnosis","Spinner","Modal","findInsurer","SelectDiagnosisPage","stores","i18n","t","navigation","error","setError","loading","setLoading","selected","setSelected","favoriteDiagnosis","setFavoriteDiagnosis","refreshed","setRefreshed","configStore","diagnosis","insurers","pendingItem","dataStore","currentDiagnosis","setCurrentDiagnosis","isIcd10","insurer","insurerId","get","usePrevious","value","ref","current","prevAmount","prevFavoriteDiagnosis","newFavoriteDiagnosis","appStore","isToggleFavoriteLoading","setIsToggleFavoriteLoading","modalVisible","setModalVisible","modalText","setModalText","onSearch","init","platform","Platform","OS","errorMsgFavoriteDiagnosis","intArray","temp","result","includes","push","parseInt","split","map","item","cloneDeep","forEach","element","id","sortFavorite","search","errMsg","onSubmitSearch","onRemoveSelectedDiagnosis","filter","d","onAddSelectedDiagnosis","length","Alert","alert","onNextStep","errorMsg","toggleFavoriteItems","index","indexOf","splice","diagnosisId","toString","type","catch","resp","tempCurrentDiagnosis","tempResult","e","isFavorite","tempSelectedCurrentDiagnosis","tempSelectedResult","diagnosisList","sort","a","b","goBack","styleSheet","favouriteReminderWrapper","favouriteReminderCallout","selectedHeader","selectedHeaderImage","favoriteIcon","require","selectedHeaderTextContainer","selectedHeaderText","selectedHeaderChooseDiagnosis","code","color","find","s","action","hotline","StyleSheet","create","paddingVertical","borderColor","borderTopWidth","borderBottomWidth","flexDirection","alignItems","paddingHorizontal","bottom","width","height","flex","marginTop","marginLeft","borderLeftColor","borderLeftWidth"],"sources":["I:/Workspace/mediWS/mccWS/frontend-clinic-app/src/pages/selectDiagnosis/index.tsx"],"sourcesContent":["import { useNavigation } from '@react-navigation/native';\r\nimport { observer } from 'mobx-react';\r\nimport { Body, Card, CardItem, Container, Text, View } from 'native-base';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Alert, StyleSheet, Image, Platform } from 'react-native';\r\nimport { FlatList } from 'react-native-gesture-handler';\r\nimport ListRow from '../../components/listRow';\r\nimport SearchInput from '../../components/searchInput';\r\nimport { getDiagnosis } from '../../actions/config';\r\nimport TitleBar from '../../components/titleBar';\r\nimport { Option } from '../../models/option';\r\nimport { useStores } from '../../stores';\r\nimport ErrorPage from '../error';\r\nimport Loading from '../loading';\r\nimport { translate } from '../../utils/string';\r\nimport MCCButton from '../../components/mccButton';\r\nimport { goSelectExtraMed, initAboutUs } from '../../actions/app';\r\nimport { Diagnosis } from '../../models/diagnosis';\r\nimport * as _ from 'lodash';\r\nimport PhoneCall from \"../../components/phoneCall\";\r\nimport { initFavoriteDiagnosis, toggleFavoriteDiagnosis } from '../../actions/app';\r\nimport Spinner from 'react-native-loading-spinner-overlay';\r\nimport Modal from './modal';\r\nimport { findInsurer } from '../../utils/common';\r\nimport { countBy } from 'lodash';\r\n\r\nconst SelectDiagnosisPage = observer(() => {\r\n    const stores = useStores();\r\n    const { i18n, t } = useTranslation();\r\n    const navigation = useNavigation();\r\n\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [selected, setSelected] = useState<Diagnosis[]>([]);\r\n    const [favoriteDiagnosis, setFavoriteDiagnosis] = useState<any[]>([]);\r\n    const [refreshed, setRefreshed] = useState(false);\r\n    const { diagnosis, insurers } = stores.configStore;\r\n    const { pendingItem } = stores.dataStore;\r\n    const [currentDiagnosis, setCurrentDiagnosis] = useState(stores.configStore.diagnosis);\r\n\r\n    const isIcd10 = () => {\r\n        const insurer = findInsurer(insurers, pendingItem.insurerId);\r\n        return _.get(insurer, 'icd', 9) === 10;\r\n    }\r\n\r\n\r\n    const usePrevious = (value: any) => {\r\n        const ref = useRef();\r\n        useEffect(() => {\r\n          ref.current = value;\r\n        });\r\n        return ref.current;\r\n    }\r\n\r\n    const prevAmount = usePrevious(diagnosis);\r\n    const prevFavoriteDiagnosis = usePrevious(favoriteDiagnosis);\r\n    \r\n    const {newFavoriteDiagnosis} = stores.appStore;\r\n\r\n    const [isToggleFavoriteLoading, setIsToggleFavoriteLoading] = useState(false);\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [modalText, setModalText] = useState('');\r\n\r\n    useEffect(() => {\r\n        onSearch();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if(\r\n            (diagnosis && prevAmount !== diagnosis) || \r\n            (newFavoriteDiagnosis && prevFavoriteDiagnosis !== newFavoriteDiagnosis)\r\n        ) {\r\n            init();\r\n        }\r\n    }, [diagnosis, newFavoriteDiagnosis]);\r\n\r\n    const init = async () => {\r\n        setLoading(true);\r\n        const errorMsgFavoriteDiagnosis = await initFavoriteDiagnosis({ stores, navigation, i18n, platform: Platform.OS });\r\n\r\n        if (errorMsgFavoriteDiagnosis) {\r\n            setError(errorMsgFavoriteDiagnosis);\r\n        }\r\n\r\n        let intArray:any = [];\r\n        let temp:any = [];\r\n        let result:any = [];\r\n        if(newFavoriteDiagnosis !== null){\r\n            if(!newFavoriteDiagnosis.includes(',')){\r\n                intArray.push(parseInt(newFavoriteDiagnosis))\r\n            }\r\n            else{\r\n                intArray = newFavoriteDiagnosis.split(',')\r\n                    .map((item) => parseInt(item, 10));\r\n            }\r\n            \r\n            temp = _.cloneDeep(diagnosis);\r\n            temp.forEach((element:Diagnosis) => {\r\n                if(intArray.includes(element.id)){\r\n                    element['isFavorite'] = true;\r\n                }\r\n                else{\r\n                    element['isFavorite'] = false;\r\n                }\r\n            });\r\n            result = sortFavorite(temp);\r\n        }\r\n        else{\r\n            temp = _.cloneDeep(diagnosis);\r\n            temp.forEach((element:Diagnosis) => {\r\n                element['isFavorite'] = false;\r\n            });\r\n            result = temp;\r\n        }\r\n        setFavoriteDiagnosis(intArray);\r\n        setCurrentDiagnosis(result);\r\n        setLoading(false);\r\n    }\r\n\r\n    const onSearch = async (value?: string) => {\r\n        if (loading) {\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n\r\n        const errMsg = await getDiagnosis({\r\n            stores,\r\n            search: value || '',\r\n            i18n\r\n        });\r\n \r\n        if (errMsg) {\r\n            setError(errMsg);\r\n        }\r\n\r\n        return setLoading(false);\r\n    }\r\n\r\n    const onSubmitSearch = (value: string) => {\r\n        onSearch(value);\r\n    }\r\n\r\n    const onRemoveSelectedDiagnosis = (item: Diagnosis) => {\r\n        setSelected(selected.filter(d => d !== item));\r\n    }\r\n\r\n    const onAddSelectedDiagnosis = (item: Diagnosis) => {\r\n        if (selected.length > 1) {\r\n            return Alert.alert(\r\n                t('Common.Error'),\r\n                t('Modify.WarnAtMostTwoDiagnosis')\r\n            )\r\n        }\r\n        selected.push(item);\r\n        setSelected(selected);\r\n        setRefreshed(!refreshed);\r\n    }\r\n\r\n\r\n\r\n    const onNextStep = () => {\r\n        const errorMsg = goSelectExtraMed({\r\n            stores,\r\n            navigation,\r\n            diagnosis: selected\r\n        });\r\n\r\n        if (errorMsg) {\r\n            Alert.alert(\r\n                t('Common.Error'),\r\n                t(errorMsg)\r\n            );\r\n        }\r\n    }\r\n\r\n    const toggleFavoriteItems = async (item: any) => {\r\n        const temp = _.cloneDeep(favoriteDiagnosis);\r\n        if(favoriteDiagnosis.includes(item.id)){\r\n            const index = temp.indexOf(item.id); \r\n            temp.splice(index, 1);\r\n            setIsToggleFavoriteLoading(true);\r\n            const resp = await toggleFavoriteDiagnosis({ stores, navigation, i18n, platform: Platform.OS, diagnosisId: item.id.toString(), type: '0' }).catch(error => {\r\n                Alert.alert(\r\n                    t('Common.Error'),\r\n                    t(error)\r\n                );\r\n            })\r\n            setIsToggleFavoriteLoading(false);\r\n\r\n            const tempCurrentDiagnosis = _.cloneDeep(currentDiagnosis);\r\n            const tempResult:any = [];\r\n            tempCurrentDiagnosis.forEach(e => {\r\n                if(e.id === item.id){\r\n                    e.isFavorite = false;\r\n                    tempResult.push(e);\r\n                }\r\n                else{\r\n                    tempResult.push(e);\r\n                }\r\n            })\r\n            const tempSelectedCurrentDiagnosis = _.cloneDeep(selected);\r\n            const tempSelectedResult:any = [];\r\n            tempSelectedCurrentDiagnosis.forEach(e => {\r\n                if(e.id === item.id){\r\n                    e.isFavorite = false;\r\n                    tempSelectedResult.push(e);\r\n                }\r\n                else{\r\n                    tempSelectedResult.push(e);\r\n                }\r\n            });\r\n            const result = sortFavorite(tempResult);\r\n            setCurrentDiagnosis(result);\r\n            setSelected(tempSelectedResult);\r\n            setModalVisible(true);\r\n            setModalText(t('Diagnosis.removeFavoriteSuccess'));\r\n        }\r\n        else{\r\n            temp.push(item.id);\r\n            setIsToggleFavoriteLoading(true);\r\n            const resp = await toggleFavoriteDiagnosis({ stores, navigation, i18n, platform: Platform.OS, diagnosisId: item.id.toString(), type: '1' }).catch(error => {\r\n                Alert.alert(\r\n                    t('Common.Error'),\r\n                    t(error)\r\n                );\r\n            });\r\n            setIsToggleFavoriteLoading(false);\r\n\r\n            const tempCurrentDiagnosis = _.cloneDeep(currentDiagnosis);\r\n            const tempResult:any = [];\r\n            tempCurrentDiagnosis.forEach(e => {\r\n                if(e.id === item.id){\r\n                    e.isFavorite = true;\r\n                    tempResult.push(e);\r\n                }\r\n                else{\r\n                    tempResult.push(e);\r\n                }\r\n            });\r\n            const tempSelectedCurrentDiagnosis = _.cloneDeep(selected);\r\n            const tempSelectedResult:any = [];\r\n            tempSelectedCurrentDiagnosis.forEach(e => {\r\n                if(e.id === item.id){\r\n                    e.isFavorite = true;\r\n                    tempSelectedResult.push(e);\r\n                }\r\n                else{\r\n                    tempSelectedResult.push(e);\r\n                }\r\n            });\r\n            const result = sortFavorite(tempResult);\r\n            setCurrentDiagnosis(result);\r\n            setSelected(tempSelectedResult);\r\n            setModalVisible(true);\r\n            setModalText(t('Diagnosis.addFavoriteSuccess'));\r\n        }\r\n        \r\n        setFavoriteDiagnosis(temp);\r\n    }\r\n\r\n    const sortFavorite = (diagnosisList: Diagnosis[]) => {\r\n        return diagnosisList.sort((a: Diagnosis, b: Diagnosis) => {\r\n            if (a.isFavorite && !b.isFavorite) {\r\n                return -1;\r\n            }\r\n            else if (!a.isFavorite && b.isFavorite) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        });\r\n    }\r\n    \r\n    return (\r\n        <Container>\r\n            <TitleBar\r\n                title={t(`Diagnosis.Step1Title`)}\r\n                onBack={() => {\r\n                    navigation.goBack();\r\n                }}\r\n                children={\r\n                    <SearchInput\r\n                        disabled={loading}\r\n                        placeholder={t('Modify.ST30')}\r\n                        onSubmit={onSubmitSearch}\r\n                    />\r\n                }\r\n            />\r\n            {\r\n                error ?\r\n                    <ErrorPage title={error} onRetry={onSearch} /> :\r\n                    loading ? <Loading /> :\r\n                        <>\r\n                            <Spinner\r\n                                visible={isToggleFavoriteLoading}\r\n                                textContent={t('Common.Loading')}\r\n                            />\r\n\r\n                            {\r\n                                isIcd10() && <View  style={styleSheet.favouriteReminderWrapper}>\r\n                                    <Card>\r\n                                    <CardItem style={styleSheet.favouriteReminderCallout}>\r\n                                        <Body>\r\n                                            <Text>\r\n                                                {t('Diagnosis.favouriteReminder')}\r\n                                            </Text>\r\n                                        </Body>\r\n                                    </CardItem>\r\n                                </Card>\r\n                                </View>\r\n                            }\r\n\r\n                            <Modal show={modalVisible} title={modalText} onDismiss={() => { setModalVisible(false); }} />\r\n                            <View style={styleSheet.selectedHeader}>\r\n                                <View style={styleSheet.selectedHeaderImage}>\r\n                                    <Image style={styleSheet.favoriteIcon} source={require('../..//assets/images/star-activated.png')}/>\r\n                                    <Text>{t('Diagnosis.favorite')}</Text>\r\n                                </View>\r\n                                \r\n                                {\r\n                                    selected.length ?\r\n                                        <View style={styleSheet.selectedHeaderTextContainer}>\r\n                                            <Text style={styleSheet.selectedHeaderText}>{t('Modify.ST2')}</Text>\r\n                                        </View>\r\n                                    :<View style={styleSheet.selectedHeaderTextContainer}></View>\r\n                                }\r\n\r\n\r\n                                <View style={styleSheet.selectedHeaderChooseDiagnosis}>\r\n                                    <Text>{t('Diagnosis.selectDiagnosis')}</Text>\r\n                                </View>\r\n                                \r\n                            </View>\r\n                            {\r\n                                selected.length ? (\r\n                                    <View>\r\n                                        <FlatList\r\n                                            style={styleSheet.selected}\r\n                                            scrollEnabled={false}\r\n                                            data={selected}\r\n                                            keyExtractor={(item, index) => `selected-dialognosis-${item.code}`}\r\n                                            renderItem={({ item }) => (\r\n                                                <ListRow\r\n                                                    item={item}\r\n                                                    onPress={onRemoveSelectedDiagnosis}\r\n                                                    formatText={(item) => `${item.code} - ${translate(item, i18n)}`}\r\n                                                    leftIcon={item.isFavorite?'activated':'unactivated'}\r\n                                                    rightIcon='md-checkmark'\r\n                                                    rightStyle={{ color: '#fc8651' }}\r\n                                                    addFavorite={()=>toggleFavoriteItems(item)}\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </View>\r\n                                ) : null\r\n                            }\r\n                            <FlatList\r\n                                data={currentDiagnosis.filter(d => !selected.find(s => s.code === d.code))}\r\n                                keyExtractor={(item, index) => `diagnosis-${index}`}\r\n                                renderItem={({ item }:any) => {                                    \r\n                                    return (\r\n                                    <ListRow\r\n                                        item={item}\r\n                                        onPress={onAddSelectedDiagnosis}\r\n                                        formatText={(item) => `${item.code} - ${translate(item, i18n)}`}\r\n                                        rightIcon='add'\r\n                                        leftIcon={item.isFavorite?'activated':'unactivated'}\r\n                                        addFavorite={()=>toggleFavoriteItems(item)}\r\n                                    />\r\n                                )}}\r\n                            />\r\n                            <View style={styleSheet.action}>\r\n                                <MCCButton\r\n                                    onPress={onNextStep}\r\n                                    text={t('Modify.ST3')}\r\n                                />\r\n                            </View>\r\n                        </>\r\n            }\r\n\r\n        <PhoneCall style={styleSheet.hotline}/>\r\n        </Container>\r\n    )\r\n});\r\n\r\n\r\nconst styleSheet = StyleSheet.create({\r\n    action: {\r\n        paddingVertical: 5\r\n    },\r\n    selected: {\r\n        borderColor: '#ff8566',\r\n        borderTopWidth: 3,\r\n        borderBottomWidth: 3,\r\n    },\r\n    selectedHeader: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        paddingVertical: 10,\r\n        paddingHorizontal: 10,\r\n        borderColor: \"rgba(0,0,0,0.25)\",\r\n        borderBottomWidth: 1,\r\n    },\r\n    hotline:{\r\n        bottom: 80\r\n    },\r\n    favoriteIcon: {\r\n        width: 30,\r\n        height: 30,\r\n    },\r\n    selectedHeaderImage: {\r\n        flex: 6,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n    },\r\n    selectedHeaderTextContainer: {\r\n        marginTop: 5,\r\n        flex: 6,\r\n    },\r\n    selectedHeaderChooseDiagnosis: {\r\n        flex: 4,\r\n        marginLeft: 5,\r\n    },\r\n    selectedHeaderText: {\r\n        width: '60%'\r\n    },\r\n    favouriteReminderWrapper: {\r\n        paddingHorizontal:5,\r\n        paddingVertical:5\r\n    },\r\n    favouriteReminderCallout: {\r\n        borderLeftColor: \"#e91e63\",\r\n        borderLeftWidth: 10,\r\n    }\r\n});\r\n\r\nexport default SelectDiagnosisPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}